<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="Amy Roger" />


<meta name="progressive" content="true" />
<meta name="allow-skip" content="true" />

<title>Clustering</title>


<!-- header-includes START -->
<!-- header-includes END -->
<!-- HEAD_CONTENT -->

<!-- highlightjs -->
<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>

<!-- taken from https://github.com/rstudio/rmarkdown/blob/67b7f5fc779e4cfdfd0f021d3d7745b6b6e17149/inst/rmd/h/default.html#L296-L362 -->
<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>
<!-- end tabsets -->



</head>

<body>



<div class="pageContent band">
<div class="bandContent page">

<div class="topics">

<div id="section-the-basics" class="section level2">
<h2>The Basics</h2>
<div id="section-introduction" class="section level3">
<h3><strong>Introduction</strong></h3>
<p>Clustering methods are unsupervised algorithms which identify sub-groups in a data set. These methods create groups of data points that are as similar as possible while making data points between groups as dissimilar as possible. There is no dependent variable in this type of analysis and so it is known as unsupervised learning.</p>
<p>Continuing with the PISA data, we might want to understand what predictors best explain academic performance. This could be achieved by looking at a global model across all countries, which may not be informative given the variation in education systems. Instead we could look at predicting countries on an individual level, but given the number of countries we would need to run many models and this ignores the fact that there is similarity within countries education systems. Therefore, we might want to try and find groups of countries that are similar so we can create prediction models for those groups.</p>
<p>
 
</p>
</div>
<div id="section-visualising-and-scaling-data" class="section level3">
<h3><strong>Visualising and Scaling Data</strong></h3>
<p>We will cluster countries based on the same random variables used in the PCA (i.e. levels of bullying and teacher discipline). Just like in PCA it is important to visualise the data first. Clusters are determined based on the distance between points so when your variables are in different units one variable may have more weight in the outcomes of clustering than the other. The variables we are using are already scaled. Let’s recap what the data that we are using looks like.</p>
<div id="htmlwidget-9eceb20dc2a931752ae4" style="width:624px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-9eceb20dc2a931752ae4">{"x":{"data":[{"x":[-0.566959631377426],"y":[2.22006026772157],"text":"Country: Albania","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Albania","legendgroup":"Albania","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.200891492879683],"y":[-1.85178411451884],"text":"Country: Argentina","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Argentina","legendgroup":"Argentina","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.02702597497486],"y":[-1.12971334843088],"text":"Country: Australia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Australia","legendgroup":"Australia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.458465395848138],"y":[0.574953640993081],"text":"Country: Austria","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Austria","legendgroup":"Austria","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.994856745409273],"y":[1.82411782975354],"text":"Country: Belarus","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Belarus","legendgroup":"Belarus","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.806274642029532],"y":[-1.07163043730106],"text":"Country: Belgium","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Belgium","legendgroup":"Belgium","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.592727569994894],"y":[-0.168212029019433],"text":"Country: Bosnia and Herzegovina","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Bosnia and Herzegovina","legendgroup":"Bosnia and Herzegovina","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.202797158665316],"y":[-1.64761065932475],"text":"Country: Brazil","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Brazil","legendgroup":"Brazil","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.88889647523883],"y":[-0.50155753726802],"text":"Country: Brunei Darussalam","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Brunei Darussalam","legendgroup":"Brunei Darussalam","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.404025245324014],"y":[-0.447036611804616],"text":"Country: Bulgaria","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Bulgaria","legendgroup":"Bulgaria","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.31726493307266],"y":[-0.832044398585683],"text":"Country: Canada","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Canada","legendgroup":"Canada","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.373658075038693],"y":[-0.823376013252998],"text":"Country: Chile","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Chile","legendgroup":"Chile","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.28700828943316],"y":[-0.0723921042914921],"text":"Country: Colombia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Colombia","legendgroup":"Colombia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.451093282138266],"y":[-0.113094397791004],"text":"Country: Costa Rica","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Costa Rica","legendgroup":"Costa Rica","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-1.11254113589473],"y":[-0.346094990442854],"text":"Country: Croatia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Croatia","legendgroup":"Croatia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.40466165412374],"y":[-0.396581892891086],"text":"Country: Czech Republic","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Czech Republic","legendgroup":"Czech Republic","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.22438831162937],"y":[0.0914679320864139],"text":"Country: Denmark","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Denmark","legendgroup":"Denmark","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.68713001336561],"y":[-0.216567585207308],"text":"Country: Dominican Republic","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Dominican Republic","legendgroup":"Dominican Republic","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.0190769799978376],"y":[0.117204177559625],"text":"Country: Estonia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Estonia","legendgroup":"Estonia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.478767921834246],"y":[-0.807241866259483],"text":"Country: Finland","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Finland","legendgroup":"Finland","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.563048705566942],"y":[-1.62126023403829],"text":"Country: France","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"France","legendgroup":"France","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-1.13150895779642],"y":[0.758297729128504],"text":"Country: Georgia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Georgia","legendgroup":"Georgia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.40881961861702],"y":[-0.336545177556359],"text":"Country: Germany","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Germany","legendgroup":"Germany","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.337515481893504],"y":[-1.32989239439554],"text":"Country: Greece","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Greece","legendgroup":"Greece","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.0710036544294545],"y":[0.358329990415945],"text":"Country: Hong Kong (China)","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Hong Kong (China)","legendgroup":"Hong Kong (China)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.81782534656564],"y":[-0.204524322286539],"text":"Country: Hungary","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Hungary","legendgroup":"Hungary","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-1.08097439152546],"y":[-0.50600686198489],"text":"Country: Iceland","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Iceland","legendgroup":"Iceland","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.02953535620329],"y":[0.0995227625382941],"text":"Country: Indonesia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Indonesia","legendgroup":"Indonesia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.186602284546031],"y":[-0.314808588704751],"text":"Country: Ireland","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Ireland","legendgroup":"Ireland","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.645350042815527],"y":[-0.532356097560659],"text":"Country: Italy","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Italy","legendgroup":"Italy","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-1.48321915416069],"y":[2.11690911335881],"text":"Country: Japan","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Japan","legendgroup":"Japan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.651260384792187],"y":[0.543418371406291],"text":"Country: Jordan","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Jordan","legendgroup":"Jordan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.0101617626822732],"y":[2.46825752752408],"text":"Country: Kazakhstan","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Kazakhstan","legendgroup":"Kazakhstan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.14560003442995],"y":[-0.0363606208088326],"text":"Country: Latvia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Latvia","legendgroup":"Latvia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.192902162080327],"y":[0.486923651605771],"text":"Country: Lithuania","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Lithuania","legendgroup":"Lithuania","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.531393111817726],"y":[-0.500550368692597],"text":"Country: Luxembourg","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Luxembourg","legendgroup":"Luxembourg","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.186119293076992],"y":[-0.0558074530565581],"text":"Country: Macao (China)","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Macao (China)","legendgroup":"Macao (China)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.09662539964382],"y":[-0.279668344373597],"text":"Country: Malaysia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Malaysia","legendgroup":"Malaysia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.943142942719956],"y":[-1.02160460012716],"text":"Country: Malta","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Malta","legendgroup":"Malta","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.414358171385825],"y":[-0.539275598142081],"text":"Country: Mexico","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Mexico","legendgroup":"Mexico","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.291495333604072],"y":[1.48350783025788],"text":"Country: Moldova","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Moldova","legendgroup":"Moldova","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.6420994656399],"y":[0.993188597804116],"text":"Country: Montenegro","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Montenegro","legendgroup":"Montenegro","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.19374514673976],"y":[-1.11109014140371],"text":"Country: Morocco","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Morocco","legendgroup":"Morocco","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-1.50824901367982],"y":[-1.12490497370558],"text":"Country: Netherlands","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Netherlands","legendgroup":"Netherlands","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.21551137775086],"y":[-0.966680481217229],"text":"Country: New Zealand","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"New Zealand","legendgroup":"New Zealand","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.858205004547626],"y":[-0.333275154552845],"text":"Country: Norway","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Norway","legendgroup":"Norway","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.376519087325407],"y":[-0.859185923982875],"text":"Country: Panama","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Panama","legendgroup":"Panama","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.728605707461819],"y":[0.271131875013933],"text":"Country: Peru","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Peru","legendgroup":"Peru","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.66275728896673],"y":[-1.134105353487],"text":"Country: Philippines","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Philippines","legendgroup":"Philippines","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.0825054364413836],"y":[-0.330814666024897],"text":"Country: Poland","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Poland","legendgroup":"Poland","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-1.33446111265126],"y":[-0.417121930127446],"text":"Country: Portugal","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Portugal","legendgroup":"Portugal","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.762372531203127],"y":[-0.592535018099953],"text":"Country: Qatar","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Qatar","legendgroup":"Qatar","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.840239754818083],"y":[0.759827967121555],"text":"Country: Romania","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Romania","legendgroup":"Romania","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.01035185946307],"y":[1.02635051516232],"text":"Country: Russia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Russia","legendgroup":"Russia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.252116406431404],"y":[0.390157874847374],"text":"Country: Saudi Arabia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Saudi Arabia","legendgroup":"Saudi Arabia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.747146083350669],"y":[-0.363721705698158],"text":"Country: Serbia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Serbia","legendgroup":"Serbia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.680264197055023],"y":[-0.163203738546022],"text":"Country: Singapore","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Singapore","legendgroup":"Singapore","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.0778267460690828],"y":[-0.231087604137898],"text":"Country: Slovak Republic","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Slovak Republic","legendgroup":"Slovak Republic","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.598575580222579],"y":[-0.734317347500156],"text":"Country: Slovenia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Slovenia","legendgroup":"Slovenia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-1.28816669655839],"y":[-1.08006848968327],"text":"Country: Spain","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Spain","legendgroup":"Spain","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.815768268202822],"y":[-0.283667946953376],"text":"Country: Sweden","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Sweden","legendgroup":"Sweden","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.321697844931264],"y":[-0.277336749580544],"text":"Country: Switzerland","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Switzerland","legendgroup":"Switzerland","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.20590103384723],"y":[0.594711416499631],"text":"Country: Thailand","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Thailand","legendgroup":"Thailand","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.525286025873995],"y":[-0.68656462909016],"text":"Country: Turkey","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Turkey","legendgroup":"Turkey","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.477786719446084],"y":[1.22842380359876],"text":"Country: Ukraine","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Ukraine","legendgroup":"Ukraine","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.705806496701854],"y":[0.50136166940581],"text":"Country: United Arab Emirates","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"United Arab Emirates","legendgroup":"United Arab Emirates","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.534167102473388],"y":[-0.245641657579665],"text":"Country: United Kingdom","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"United Kingdom","legendgroup":"United Kingdom","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.249523518523946],"y":[-0.091509556786532],"text":"Country: United States","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"United States","legendgroup":"United States","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.052088267036285],"y":[-0.813143532540166],"text":"Country: Uruguay","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Uruguay","legendgroup":"Uruguay","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.0285356816551687],"y":[1.60219889232655],"text":"Country: Viet Nam","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Viet Nam","legendgroup":"Viet Nam","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":27.8721461187215,"r":7.30593607305936,"b":41.8264840182648,"l":37.2602739726027},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1.81679932881214,4.97130760409906],"tickmode":"array","ticktext":["0","2","4"],"tickvals":[2.22044604925031e-16,2,4],"categoryorder":"array","categoryarray":["0","2","4"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"Prevalence of Bullying","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-2.06778619662099,2.68425960962623],"tickmode":"array","ticktext":["-2","-1","0","1","2"],"tickvals":[-2,-1,0,1,2],"categoryorder":"array","categoryarray":["-2","-1","0","1","2"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"Level of Discipline","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"6c2c484d5d9e":{"x":{},"y":{},"fill":{},"type":"scatter"}},"cur_data":"6c2c484d5d9e","visdat":{"6c2c484d5d9e":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>
 
</p>
<p>
 
</p>
</div>
</div>
<div id="section-k-means-analysis" class="section level2">
<h2>K-means Analysis</h2>
<div id="section-overview" class="section level3">
<h3>Overview</h3>
<p>K-means analysis is a method of partitioning your data set into <span class="math inline">\(k\)</span> clusters, where <span class="math inline">\(k\)</span> is pre-set by the researcher. Observations in the same cluster are as similar as possible and observations between different clusters are as dissimilar as possible. Clusters are defined by their center (i.e. mean of the observations assigned to each cluster).</p>
<p>To determine the similarity between data points k-means calculates the distance between the two data points. The default is usually Euclidean distance. For other distance measures and how these affect k-means clustering see <a href="https://link.springer.com/chapter/10.1007/978-81-322-0491-6_63">Patel &amp; Mehta (2012).</a></p>
<p>The reason why distance is important is that the basic idea of k-means clustering is to minimize the total within-cluster variance. This is defined as the sum of the Euclidean distance, in this case, between each data point and their corresponding center.</p>
<p>The k-means algorithm follows the following steps: 1. Selects <span class="math inline">\(k\)</span> (assigned by the researcher) random data points as initial cluster centers 2. Assigns each data point to closest centers 3. Updates each <span class="math inline">\(k\)</span> clusters centers by calculating the new means of all data points 4. Iterates between 2. and 3. to minimize the total within-cluster variance until clusters stop changing or the maximum iterations is reached.</p>
<p>This iterative approach used in k-means and other clustering techniques is Expectation Maximization. For a more in-depth understanding into the statistical concepts that underlie k-means see this towards data science <a href="https://towardsdatascience.com/k-means-clustering-algorithm-applications-evaluation-methods-and-drawbacks-aa03e644b48a">blog post</a></p>
<p>
 
</p>
</div>
<div id="section-deciding-on-a-value-for-k" class="section level3">
<h3><strong>Deciding on a value for k</strong></h3>
<p>The key decision when running a k-means cluster analysis is choosing the optimal number of clusters. There are numerous methods to help choose the optimum number for <span class="math inline">\(k\)</span>, and we will highlight a few here.</p>
</div>
<div id="section-elbow-method" class="section level3">
<h3><strong>Elbow Method</strong></h3>
<p>The elbow method method allows you to assess the variance explained (i.e. total within-cluster sums of squares) as a function of the number of clusters used (<span class="math inline">\(k\)</span>). The code below walks you through this method step-by-step:</p>
<pre class="r"><code># Compute and plot total within-cluster sum of square (wss) for k = 1 to k = 15
k.values &lt;- 1:10

#This function computes wss for a given value of k
wss &lt;- function(k) {
  kmeans(bull_dis[,2:3], k, nstart = 100)$tot.withinss
}

#Creates vector of extracted wss across all values of k for raw and scaled data
wss_values &lt;- map_dbl(k.values, wss)

#Plots the wss as a function of k for raw and scaled data
plot(k.values, wss_values,
       type=&quot;b&quot;, pch = 19, frame = FALSE, 
       xlab=&quot;Number of clusters K&quot;,
       ylab=&quot;Total within-clusters sum of squares&quot;, 
       main = &quot;Elbow Method&quot;)</code></pre>
<p><img src="Cluster_Tutorial_files/figure-html/manual%20elbow%20method-1.png" width="624" /></p>
<pre class="r"><code># Now that you understand this method you can use the inbuilt function in r that produces this output for you fviz_nbclust()

# fviz_nbclust(bull_dis[,2:3], kmeans, method = &quot;wss&quot;)</code></pre>
<p>
 
</p>
<p>This method can be ambiguous surrounding what value of k to choose. Here <span class="math inline">\(k\)</span> = 3 to <span class="math inline">\(k\)</span> = 5 could be suitable values for the k-means analysis. So how do we decide? We can use a combination of methods.</p>
</div>
<div id="section-average-silhouette-method" class="section level3">
<h3><strong>Average Silhouette Method</strong></h3>
<p>The Average Silhouette Method uses the silhouette coefficient, an internal cluster validation measure assessing how well data points have been clustered by estimating the average distance between clusters. High average silhouette widths (i.e. closer to 1 the better) indicate good clustering. This method looks at the average silhouette of observations across the values of k. The code below walks you through how this method works:</p>
<pre class="r"><code># function to compute average silhouette for k clusters
avg_sil &lt;- function(k) {
  #runs k-means
  km &lt;- kmeans(bull_dis[,2:3], centers = k, nstart = 100)
  #extracts silhouette widths and calculates average
  ss &lt;- silhouette(km$cluster, dist(bull_dis[,2:3]))
  mean(ss[, 3])
}

# Compute and plot wss for k = 2 to k = 15
k.values &lt;- 2:10

# extract avg silhouette for 2-15 clusters
avg_sil_values &lt;- map_dbl(k.values, avg_sil)

plot(k.values, avg_sil_values,
       type = &quot;b&quot;, pch = 19, frame = FALSE, 
       xlab = &quot;Number of clusters K&quot;,
       ylab = &quot;Average Silhouettes&quot;)</code></pre>
<img src="Cluster_Tutorial_files/figure-html/silhouette%20method-1.png" width="624" />
<p>
 
</p>
<p>You can see from this plot that <span class="math inline">\(k\)</span> = 3 or <span class="math inline">\(k\)</span> = 4, are suitable values of <span class="math inline">\(k\)</span> as it has the highest average silhouette value. Now that you understand how the average silhouette works try using the <code>fviz_NbClust</code> package to run this for yourself! see the <code>manual elbow method</code> code chunk for help!</p>
<div class="tutorial-exercise" data-label="elbow-exercise" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="elbow-exercise-hint-1" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>#Look back at the {r manual elbow method} code chunk first to see our explanation

## DATA ##
#make sure you are using the right data set i.e. bull_dis
#Make sure that you are only using the bullying and discipline columns of the data set i.e.  [,2:3]

## FUNCTION ##
#Make sure you have the correct value analysis method i.e. kmeans
#Make sure you have the correct method argument i.e. &quot;silhouette&quot;</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="elbow-exercise-hint-2" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>## FUNCTION ##
#Make sure you have the correct value analysis method i.e. kmeans
#Make sure you have the correct method argument i.e. &quot;silhouette&quot;

# WARNING: next hint shows full solution</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="elbow-exercise-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>fviz_nbclust(bull_dis[,2:3], kmeans, method = &quot;silhouette&quot;)</code></pre>
</div>
</div>
<div id="section-calinski-harabasz-index" class="section level3">
<h3><strong>Calinski-Harabasz Index</strong></h3>
<p>The Calinski-Harabasz Index is an internal cluster validation measure assessing the ratio of between cluster variance and within cluster variance. A good cluster analysis has high between cluster variance and low within cluster variance. Additionally, between cluster variance increases with <span class="math inline">\(k\)</span> whereas within cluster variance decreases with <span class="math inline">\(k\)</span>, but the rate of change for both should slow at optimal <span class="math inline">\(k\)</span>. Therefore, the Calinski-Harabasz Index ratio should, in theory be maximized (i.e. the largest value) at optimal <span class="math inline">\(k\)</span>.</p>
<pre class="r"><code># function to compute ch-index for k clusters
ch_index &lt;- function(k){
  #runs k-means
  km &lt;- kmeans(bull_dis[,2:3], centers = k, nstart = 100)
  #calculates ch index from k-means output
  ch &lt;- km$betweenss/km$tot.withinss*((nrow(bull_dis)-k)/(k-1))
}

k.values &lt;- as.numeric(2:10)

ch &lt;- map_dbl(k.values, ch_index)

plot(k.values, ch,
       type = &quot;b&quot;, pch = 19, frame = FALSE, 
       xlab = &quot;Number of clusters K&quot;,
       ylab = &quot;Calinski-Harabasz Index&quot;)</code></pre>
<img src="Cluster_Tutorial_files/figure-html/Calinski-Harabasz%20Index-1.png" width="624" />
<p>
 
</p>
<p>For the data we are working with the Calinski-Harabasz Index output is not as definitive as the other methods. From the plot we can see there are local peaks at <span class="math inline">\(k\)</span> = 6 and then again at 10.</p>
<p>Using information from multiple methods is a better way to obtain <span class="math inline">\(k\)</span> than relying on one. From the three outputs <span class="math inline">\(k\)</span> = 4 seems a reasonable value of <span class="math inline">\(k\)</span> to use. These are just three of a variety of ways to determine the optimal <span class="math inline">\(k\)</span> value. The <code>fviz_NbClust</code> package has functions for running the different methods. See <a href="https://www.rdocumentation.org/packages/factoextra/versions/1.0.7/topics/fviz_nbclust">Alboukadel Kassambara (n.d.)</a> for a review.</p>
</div>
<div id="section-quick-quiz" class="section level3">
<h3><strong>Quick Quiz</strong></h3>
<p><div class="panel-heading tutorial-quiz-title"><span data-i18n="text.quiz">Quiz</span></div></p>
<div class="panel panel-default">
<div data-label="optimakmethodsq-1" class="tutorial-question panel-body">
<div id="optimakmethodsq-1-answer_container" class="shiny-html-output"></div>
<div id="optimakmethodsq-1-message_container" class="shiny-html-output"></div>
<div id="optimakmethodsq-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<p><div class="panel-heading tutorial-quiz-title"><span data-i18n="text.quiz">Quiz</span></div></p>
<div class="panel panel-default">
<div data-label="goodclusteringq-1" class="tutorial-question panel-body">
<div id="goodclusteringq-1-answer_container" class="shiny-html-output"></div>
<div id="goodclusteringq-1-message_container" class="shiny-html-output"></div>
<div id="goodclusteringq-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<p>
 
</p>
</div>
<div id="section-running-the-analysis" class="section level3">
<h3><strong>Running the Analysis</strong></h3>
<p>Now that we have our <span class="math inline">\(k\)</span> value (<span class="math inline">\(k\)</span> = 4) we can run our analysis.</p>
<pre class="r"><code>#run k means with k = 4, nstart = 100. nstart runs multiple initial configurations of the algorithm and reports the best one!
km_4 &lt;- kmeans(bull_dis[,2:3], 4, nstart = 100)

km_4</code></pre>
<pre><code>## K-means clustering with 4 clusters of sizes 27, 10, 2, 31
## 
## Cluster means:
##     Bullying Discipline
## 1  0.6052833 -0.1317793
## 2 -0.6085089  1.5269915
## 3  3.7758269 -0.8178314
## 4 -0.5734932 -0.6164343
## 
## Clustering vector:
##  [1] 1 2 4 1 4 1 4 4 1 4 4 4 4 4 4 1 4 2 1 1 4 4 4 1 4 4 4 4 4 4 4 4 4 1 1 2 4 2
## [39] 4 4 3 1 4 4 1 2 1 1 1 2 1 1 1 2 2 1 1 4 3 1 1 1 1 4 1 1 2 1 4 2
## 
## Within cluster sum of squares by cluster:
## [1] 15.526125  5.706768  1.773349 12.892986
##  (between_SS / total_SS =  71.0 %)
## 
## Available components:
## 
## [1] &quot;cluster&quot;      &quot;centers&quot;      &quot;totss&quot;        &quot;withinss&quot;     &quot;tot.withinss&quot;
## [6] &quot;betweenss&quot;    &quot;size&quot;         &quot;iter&quot;         &quot;ifault&quot;</code></pre>
<p>
 
</p>
</div>
<div id="section-section" class="section level3">
<h3></h3>
<p>The summary provides you with the cluster means for each component and indicates that 71% of the variance was explained by the 3 clusters. Now lets plot the data with country and cluster labels to see what it looks like.</p>
<pre class="r"><code>bull_dis &lt;- bull_dis %&gt;% 
  #add column indicating cluster of each country
  mutate(Cluster = as.factor(km_4$cluster))

#scatter plot colouring data points by cluster
ggplotly(
    ggplot(bull_dis, aes(Bullying, Discipline, group = Country, colour = Cluster)) +
  geom_point() +
  #axis labels
  xlab(&#39;Prevalence of Bullying&#39;) +
  ylab(&#39;Level of Discipline&#39;) + 
  theme_minimal(), 

tooltip = &quot;group&quot;)</code></pre>
<div id="htmlwidget-f30d7598595affc4f25a" style="width:624px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-f30d7598595affc4f25a">{"x":{"data":[{"x":[1.02702597497486,0.31726493307266,0.28700828943316,-0.0190769799978376,0.186602284546031,1.14560003442995,-0.192902162080327,1.21551137775086,0.534167102473388,0.249523518523946,0.404025245324014,1.68713001336561,0.0710036544294545,1.02953535620329,0.651260384792187,0.186119293076992,1.09662539964382,0.943142942719956,1.19374514673976,0.376519087325407,0.762372531203127,0.840239754818083,1.01035185946307,-0.252116406431404,0.680264197055023,0.20590103384723,0.705806496701854],"y":[-1.12971334843088,-0.832044398585683,-0.0723921042914921,0.117204177559625,-0.314808588704751,-0.0363606208088326,0.486923651605771,-0.966680481217229,-0.245641657579665,-0.091509556786532,-0.447036611804616,-0.216567585207308,0.358329990415945,0.0995227625382941,0.543418371406291,-0.0558074530565581,-0.279668344373597,-1.02160460012716,-1.11109014140371,-0.859185923982875,-0.592535018099953,0.759827967121555,1.02635051516232,0.390157874847374,-0.163203738546022,0.594711416499631,0.50136166940581],"text":["Country: Australia","Country: Canada","Country: Colombia","Country: Estonia","Country: Ireland","Country: Latvia","Country: Lithuania","Country: New Zealand","Country: United Kingdom","Country: United States","Country: Bulgaria","Country: Dominican Republic","Country: Hong Kong (China)","Country: Indonesia","Country: Jordan","Country: Macao (China)","Country: Malaysia","Country: Malta","Country: Morocco","Country: Panama","Country: Qatar","Country: Romania","Country: Russia","Country: Saudi Arabia","Country: Singapore","Country: Thailand","Country: United Arab Emirates"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"1","legendgroup":"1","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.458465395848138,-1.48321915416069,-0.566959631377426,-0.994856745409273,-1.13150895779642,-0.0101617626822732,-0.291495333604072,-0.6420994656399,-0.477786719446084,-0.0285356816551687],"y":[0.574953640993081,2.11690911335881,2.22006026772157,1.82411782975354,0.758297729128504,2.46825752752408,1.48350783025788,0.993188597804116,1.22842380359876,1.60219889232655],"text":["Country: Austria","Country: Japan","Country: Albania","Country: Belarus","Country: Georgia","Country: Kazakhstan","Country: Moldova","Country: Montenegro","Country: Ukraine","Country: Viet Nam"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(124,174,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(124,174,0,1)"}},"hoveron":"points","name":"2","legendgroup":"2","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.88889647523883,4.66275728896673],"y":[-0.50155753726802,-1.134105353487],"text":["Country: Brunei Darussalam","Country: Philippines"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,196,1)"}},"hoveron":"points","name":"3","legendgroup":"3","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.806274642029532,-0.373658075038693,-0.40466165412374,-0.22438831162937,-0.478767921834246,-0.563048705566942,-0.40881961861702,-0.337515481893504,-0.81782534656564,-1.08097439152546,-0.645350042815527,-0.531393111817726,-0.414358171385825,-1.50824901367982,-0.858205004547626,-0.0825054364413836,-1.33446111265126,-0.0778267460690828,-0.598575580222579,-1.28816669655839,-0.815768268202822,-0.321697844931264,-0.525286025873995,0.200891492879683,-0.592727569994894,0.202797158665316,-0.451093282138266,-1.11254113589473,-0.728605707461819,-0.747146083350669,-0.052088267036285],"y":[-1.07163043730106,-0.823376013252998,-0.396581892891086,0.0914679320864139,-0.807241866259483,-1.62126023403829,-0.336545177556359,-1.32989239439554,-0.204524322286539,-0.50600686198489,-0.532356097560659,-0.500550368692597,-0.539275598142081,-1.12490497370558,-0.333275154552845,-0.330814666024897,-0.417121930127446,-0.231087604137898,-0.734317347500156,-1.08006848968327,-0.283667946953376,-0.277336749580544,-0.68656462909016,-1.85178411451884,-0.168212029019433,-1.64761065932475,-0.113094397791004,-0.346094990442854,0.271131875013933,-0.363721705698158,-0.813143532540166],"text":["Country: Belgium","Country: Chile","Country: Czech Republic","Country: Denmark","Country: Finland","Country: France","Country: Germany","Country: Greece","Country: Hungary","Country: Iceland","Country: Italy","Country: Luxembourg","Country: Mexico","Country: Netherlands","Country: Norway","Country: Poland","Country: Portugal","Country: Slovak Republic","Country: Slovenia","Country: Spain","Country: Sweden","Country: Switzerland","Country: Turkey","Country: Argentina","Country: Bosnia and Herzegovina","Country: Brazil","Country: Costa Rica","Country: Croatia","Country: Peru","Country: Serbia","Country: Uruguay"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(199,124,255,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(199,124,255,1)"}},"hoveron":"points","name":"4","legendgroup":"4","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":27.8721461187215,"r":7.30593607305936,"b":41.8264840182648,"l":37.2602739726027},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1.81679932881214,4.97130760409906],"tickmode":"array","ticktext":["0","2","4"],"tickvals":[2.22044604925031e-16,2,4],"categoryorder":"array","categoryarray":["0","2","4"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"Prevalence of Bullying","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-2.06778619662099,2.68425960962623],"tickmode":"array","ticktext":["-2","-1","0","1","2"],"tickvals":[-2,-1,0,1,2],"categoryorder":"array","categoryarray":["-2","-1","0","1","2"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"Level of Discipline","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"Cluster","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"6c2c6b8442d":{"x":{},"y":{},"colour":{},"type":"scatter"}},"cur_data":"6c2c6b8442d","visdat":{"6c2c6b8442d":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>
 
</p>
</div>
<div id="section-dealing-with-outliers" class="section level3">
<h3><strong>Dealing with outliers</strong></h3>
<p>One assumption of k-means is that clusters are of similar size and density. You can see from the plot that cluster with Brunei Darussalam and the Philippines violates this assumption. K-means, using Euclidean distance, is very sensitive to outliers and their presence can effect the number and make up of clusters. Brunei Darussalam and the Philippines seem to be outliers when we look at the plot. One way to deal with global outliers is to remove them from your data and re-run the k-means analysis shown below.</p>
<pre class="r"><code>#remove outliers
outlier_data &lt;- bull_dis %&gt;% 
  #Compares Country names in bull_dis and keeps them if they are not Brunei Darussalam or Philippines
  filter(!(Country %in% c(&#39;Brunei Darussalam&#39;,&#39;Philippines&#39;)))</code></pre>
<p>
 
</p>
</div>
<div id="section-section-1" class="section level3">
<h3></h3>
<p>Now that we have our new data set <code>outlier data</code> we need to assess the optimal value for k and run a new k-means. As you have already seen us run a k-mean analysis we will be asking you some questions and to write some code as we go through this section.</p>
<pre class="r"><code>#run elbow silhouette and ch index to determine k
fviz_nbclust(outlier_data[, 2:3], kmeans, method = &quot;wss&quot;)</code></pre>
<p><img src="Cluster_Tutorial_files/figure-html/oulier%20decide%20k-1.png" width="624" /></p>
<pre class="r"><code>fviz_nbclust(outlier_data[, 2:3], kmeans, method = &quot;silhouette&quot;)</code></pre>
<p><img src="Cluster_Tutorial_files/figure-html/oulier%20decide%20k-2.png" width="624" /></p>
</div>
<div id="section-section-2" class="section level3">
<h3></h3>
<p><div class="panel-heading tutorial-quiz-title"><span data-i18n="text.quiz">Quiz</span></div></p>
<div class="panel panel-default">
<div data-label="optimalk-1" class="tutorial-question panel-body">
<div id="optimalk-1-answer_container" class="shiny-html-output"></div>
<div id="optimalk-1-message_container" class="shiny-html-output"></div>
<div id="optimalk-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<p>Now that you know the optimal value for <span class="math inline">\(k\)</span> try to run the analysis. Use the <code>kmeans</code> function. NOTE: Do not assign your analysis to an object name.</p>
<div class="tutorial-exercise" data-label="kmeans-exercise" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="kmeans-exercise-hint-1" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>#Look back at the &quot;Running this analysis section&quot; first to see what we did

## DATA ##
#make sure you are using the right dataset i.e. outlier_data
#Make sure that you are only using the bullying and discipline columns of the data set i.e.  [,2:3]</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="kmeans-exercise-hint-2" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>## FUNCTION ##
#Make sure you have the correct value for k i.e. see question above
#Make sure you are running multiple initial configurations of the kmeans algorithm i.e. nstart = 100

# WARNING: next hint shows full solution</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="kmeans-exercise-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>kmeans(outlier_data[, 2:3], 3, nstart = 100)</code></pre>
</div>
<p>
 
</p>
</div>
<div id="section-section-3" class="section level3">
<h3></h3>
<p>On your <code>kmeans</code> output (if you don’t have an output press ‘Run Code’) find the value which indicates the variance explained.</p>
<p><div class="panel-heading tutorial-quiz-title"><span data-i18n="text.quiz">Quiz</span></div></p>
<div class="panel panel-default">
<div data-label="varexplainedq-1" class="tutorial-question panel-body">
<div id="varexplainedq-1-answer_container" class="shiny-html-output"></div>
<div id="varexplainedq-1-message_container" class="shiny-html-output"></div>
<div id="varexplainedq-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
</div>
<div id="section-section-4" class="section level3">
<h3></h3>
<p>Now that we have our results we can visualise them.</p>
<div id="htmlwidget-b85bf888dc62471906a9" style="width:624px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-b85bf888dc62471906a9">{"x":{"data":[{"x":[1.02702597497486,0.31726493307266,0.28700828943316,-0.0190769799978376,0.186602284546031,1.14560003442995,-0.192902162080327,1.21551137775086,0.534167102473388,0.249523518523946,0.404025245324014,1.68713001336561,0.0710036544294545,1.02953535620329,0.651260384792187,0.186119293076992,1.09662539964382,0.943142942719956,1.19374514673976,0.376519087325407,0.762372531203127,0.840239754818083,1.01035185946307,-0.252116406431404,0.680264197055023,0.20590103384723,0.705806496701854],"y":[-1.12971334843088,-0.832044398585683,-0.0723921042914921,0.117204177559625,-0.314808588704751,-0.0363606208088326,0.486923651605771,-0.966680481217229,-0.245641657579665,-0.091509556786532,-0.447036611804616,-0.216567585207308,0.358329990415945,0.0995227625382941,0.543418371406291,-0.0558074530565581,-0.279668344373597,-1.02160460012716,-1.11109014140371,-0.859185923982875,-0.592535018099953,0.759827967121555,1.02635051516232,0.390157874847374,-0.163203738546022,0.594711416499631,0.50136166940581],"text":["Country: Australia","Country: Canada","Country: Colombia","Country: Estonia","Country: Ireland","Country: Latvia","Country: Lithuania","Country: New Zealand","Country: United Kingdom","Country: United States","Country: Bulgaria","Country: Dominican Republic","Country: Hong Kong (China)","Country: Indonesia","Country: Jordan","Country: Macao (China)","Country: Malaysia","Country: Malta","Country: Morocco","Country: Panama","Country: Qatar","Country: Romania","Country: Russia","Country: Saudi Arabia","Country: Singapore","Country: Thailand","Country: United Arab Emirates"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"1","legendgroup":"1","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.806274642029532,-0.373658075038693,-0.40466165412374,-0.22438831162937,-0.478767921834246,-0.563048705566942,-0.40881961861702,-0.337515481893504,-0.81782534656564,-1.08097439152546,-0.645350042815527,-0.531393111817726,-0.414358171385825,-1.50824901367982,-0.858205004547626,-0.0825054364413836,-1.33446111265126,-0.0778267460690828,-0.598575580222579,-1.28816669655839,-0.815768268202822,-0.321697844931264,-0.525286025873995,0.200891492879683,-0.592727569994894,0.202797158665316,-0.451093282138266,-1.11254113589473,-0.728605707461819,-0.747146083350669,-0.052088267036285],"y":[-1.07163043730106,-0.823376013252998,-0.396581892891086,0.0914679320864139,-0.807241866259483,-1.62126023403829,-0.336545177556359,-1.32989239439554,-0.204524322286539,-0.50600686198489,-0.532356097560659,-0.500550368692597,-0.539275598142081,-1.12490497370558,-0.333275154552845,-0.330814666024897,-0.417121930127446,-0.231087604137898,-0.734317347500156,-1.08006848968327,-0.283667946953376,-0.277336749580544,-0.68656462909016,-1.85178411451884,-0.168212029019433,-1.64761065932475,-0.113094397791004,-0.346094990442854,0.271131875013933,-0.363721705698158,-0.813143532540166],"text":["Country: Belgium","Country: Chile","Country: Czech Republic","Country: Denmark","Country: Finland","Country: France","Country: Germany","Country: Greece","Country: Hungary","Country: Iceland","Country: Italy","Country: Luxembourg","Country: Mexico","Country: Netherlands","Country: Norway","Country: Poland","Country: Portugal","Country: Slovak Republic","Country: Slovenia","Country: Spain","Country: Sweden","Country: Switzerland","Country: Turkey","Country: Argentina","Country: Bosnia and Herzegovina","Country: Brazil","Country: Costa Rica","Country: Croatia","Country: Peru","Country: Serbia","Country: Uruguay"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,186,56,1)"}},"hoveron":"points","name":"2","legendgroup":"2","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.458465395848138,-1.48321915416069,-0.566959631377426,-0.994856745409273,-1.13150895779642,-0.0101617626822732,-0.291495333604072,-0.6420994656399,-0.477786719446084,-0.0285356816551687],"y":[0.574953640993081,2.11690911335881,2.22006026772157,1.82411782975354,0.758297729128504,2.46825752752408,1.48350783025788,0.993188597804116,1.22842380359876,1.60219889232655],"text":["Country: Austria","Country: Japan","Country: Albania","Country: Belarus","Country: Georgia","Country: Kazakhstan","Country: Moldova","Country: Montenegro","Country: Ukraine","Country: Viet Nam"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(97,156,255,1)"}},"hoveron":"points","name":"3","legendgroup":"3","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":27.8721461187215,"r":7.30593607305936,"b":41.8264840182648,"l":37.2602739726027},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1.66801796503209,1.84689896471788],"tickmode":"array","ticktext":["-1","0","1"],"tickvals":[-1,0,1],"categoryorder":"array","categoryarray":["-1","0","1"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"Prevalence of Bullying","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-2.06778619662099,2.68425960962623],"tickmode":"array","ticktext":["-2","-1","0","1","2"],"tickvals":[-2,-1,0,1,2],"categoryorder":"array","categoryarray":["-2","-1","0","1","2"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"Level of Discipline","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"Cluster","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"6c2c2926650":{"x":{},"y":{},"colour":{},"type":"scatter"}},"cur_data":"6c2c2926650","visdat":{"6c2c2926650":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>
 
</p>
</div>
<div id="section-section-5" class="section level3">
<h3></h3>
<p>So how do we assess local outliers (i.e. outliers with respect to their distance from their surrounding cluster)? We can manually identify local outliers by calculating the distance of data points from their cluster center and picking the top <span class="math inline">\(l\)</span> distances as outliers. There is no set method to choosing <span class="math inline">\(l\)</span>, a limitation of this approach. The decision surrounding <span class="math inline">\(l\)</span> can be made using field expertise, however, an arbitrary guideline is 5.</p>
<pre class="r"><code>#create vector of centers the length of data to calculate distances 
centers &lt;- outlier_km_3$centers[outlier_km_3$cluster,]

#creates vector of distances 
outlier_data %&gt;%
  mutate(
    #adds previously created centers to the outlier data frame 
    bullcentres = centers[,1],
    discentres = centers[,2],
    #uses original data points to calculate the distance of each data point from its center 
    distances = sqrt(rowSums((outlier_data[,2:3] - centers)^2))) %&gt;%
  #arranges data frame by distances in descending order
  arrange(desc(distances)) %&gt;%
  #Prints the top 10 largest distances in the data frame
  slice(1:5)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Country"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Bullying"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Discipline"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Cluster"],"name":[4],"type":["fct"],"align":["left"]},{"label":["bullcentres"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["discentres"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["distances"],"name":[7],"type":["dbl"],"align":["right"]}],"data":[{"1":"Argentina","2":"0.20089149","3":"-1.851784","4":"2","5":"-0.5734932","6":"-0.6164343","7":"1.457999"},{"1":"Brazil","2":"0.20279716","3":"-1.647611","4":"2","5":"-0.5734932","6":"-0.6164343","7":"1.290717"},{"1":"Russia","2":"1.01035186","3":"1.026351","4":"1","5":"0.6052833","6":"-0.1317793","7":"1.226925"},{"1":"Morocco","2":"1.19374515","3":"-1.111090","4":"1","5":"0.6052833","6":"-0.1317793","7":"1.142513"},{"1":"Kazakhstan","2":"-0.01016176","3":"2.468258","4":"3","5":"-0.6085089","6":"1.5269915","7":"1.115348"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="section-section-6" class="section level3">
<h3></h3>
<p><div class="panel-heading tutorial-quiz-title"><span data-i18n="text.quiz">Quiz</span></div></p>
<div class="panel panel-default">
<div data-label="distanceq-1" class="tutorial-question panel-body">
<div id="distanceq-1-answer_container" class="shiny-html-output"></div>
<div id="distanceq-1-message_container" class="shiny-html-output"></div>
<div id="distanceq-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
</div>
<div id="section-section-7" class="section level3">
<h3></h3>
<p>This method outlines 5 more countries that could been seen as local outliers. The <code>kmod</code> function allows you to do k-means analysis with simultaneous outlier detection. The k-means algorithm has been updated to form clusters while simultaneously identifying and accounting for outliers. The outliers are defined in a similar method as outlined above. For an detailed outline of the updated algorithm that the <code>kmod</code> package runs see <a href="http://pmg.it.usyd.edu.au/outliers.pdf">Chawla &amp; Gionis (2013)</a> In this new approach the researcher has to specify <span class="math inline">\(k\)</span> clusters and <span class="math inline">\(l\)</span> outliers.</p>
<pre class="r"><code>#run k-means with k = 3 from the elbow and silhouette and l = 5
#
kmod_3 &lt;- kmod(outlier_data[, 2:3], k=3, l=5)</code></pre>
<pre><code>## Beginning k-means-- clustering
## ..............
## Clustering complete in  14  iterations.
## 
## k = 3   l = 5   Cluster sizes: 20 16 27 
## (between cluster sum sqr / total sum sqr     = 73.49953 %)
## 
## Centroids: 
##         Bullying Discipline
## [1,] -0.01198834  0.5780873
## [2,]  0.80014555 -0.6102643
## [3,] -0.63811056 -0.5915803
## 
## Outliers: 
## # A tibble: 5 x 2
##   Bullying Discipline
##      &lt;dbl&gt;      &lt;dbl&gt;
## 1  -1.48         2.12
## 2  -0.0102       2.47
## 3  -0.567        2.22
## 4  -0.995        1.82
## 5   0.201       -1.85
## 
## Available components:
##  [1] &quot;k&quot;                  &quot;l&quot;                  &quot;C&quot;                 
##  [4] &quot;C_sizes&quot;            &quot;C_ss&quot;               &quot;L&quot;                 
##  [7] &quot;L_dist_sqr&quot;         &quot;L_index&quot;            &quot;XC_dist_sqr_assign&quot;
## [10] &quot;within_ss&quot;          &quot;between_ss&quot;         &quot;tot_ss&quot;            
## [13] &quot;iterations&quot;</code></pre>
<pre class="r"><code>#index country names of outliers from the l-index output
outlier_data$Country[kmod_3$L_index]</code></pre>
<pre><code>## [1] &quot;Japan&quot;      &quot;Kazakhstan&quot; &quot;Albania&quot;    &quot;Belarus&quot;    &quot;Argentina&quot;</code></pre>
</div>
<div id="section-section-8" class="section level3">
<h3></h3>
<pre class="r"><code>#plot data coloured by cluster
kmod_data &lt;- outlier_data %&gt;% 
  mutate(cluster = as.factor(kmod_3$XC_dist_sqr_assign[,2]))


#plot data coloured by cluster
ggplotly(
    ggplot(kmod_data, aes(Bullying, Discipline, group = Country, colour = Cluster)) +
  geom_point() +
  #axis labels
  xlab(&#39;Prevalence of Bullying&#39;) +
  ylab(&#39;Level of Discipline&#39;) + 
  theme_minimal(), 

tooltip = &quot;group&quot;)</code></pre>
<div id="htmlwidget-88fdd2a34d502a66744b" style="width:624px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-88fdd2a34d502a66744b">{"x":{"data":[{"x":[1.02702597497486,0.31726493307266,0.28700828943316,-0.0190769799978376,0.186602284546031,1.14560003442995,-0.192902162080327,1.21551137775086,0.534167102473388,0.249523518523946,0.404025245324014,1.68713001336561,0.0710036544294545,1.02953535620329,0.651260384792187,0.186119293076992,1.09662539964382,0.943142942719956,1.19374514673976,0.376519087325407,0.762372531203127,0.840239754818083,1.01035185946307,-0.252116406431404,0.680264197055023,0.20590103384723,0.705806496701854],"y":[-1.12971334843088,-0.832044398585683,-0.0723921042914921,0.117204177559625,-0.314808588704751,-0.0363606208088326,0.486923651605771,-0.966680481217229,-0.245641657579665,-0.091509556786532,-0.447036611804616,-0.216567585207308,0.358329990415945,0.0995227625382941,0.543418371406291,-0.0558074530565581,-0.279668344373597,-1.02160460012716,-1.11109014140371,-0.859185923982875,-0.592535018099953,0.759827967121555,1.02635051516232,0.390157874847374,-0.163203738546022,0.594711416499631,0.50136166940581],"text":["Country: Australia","Country: Canada","Country: Colombia","Country: Estonia","Country: Ireland","Country: Latvia","Country: Lithuania","Country: New Zealand","Country: United Kingdom","Country: United States","Country: Bulgaria","Country: Dominican Republic","Country: Hong Kong (China)","Country: Indonesia","Country: Jordan","Country: Macao (China)","Country: Malaysia","Country: Malta","Country: Morocco","Country: Panama","Country: Qatar","Country: Romania","Country: Russia","Country: Saudi Arabia","Country: Singapore","Country: Thailand","Country: United Arab Emirates"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"1","legendgroup":"1","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.806274642029532,-0.373658075038693,-0.40466165412374,-0.22438831162937,-0.478767921834246,-0.563048705566942,-0.40881961861702,-0.337515481893504,-0.81782534656564,-1.08097439152546,-0.645350042815527,-0.531393111817726,-0.414358171385825,-1.50824901367982,-0.858205004547626,-0.0825054364413836,-1.33446111265126,-0.0778267460690828,-0.598575580222579,-1.28816669655839,-0.815768268202822,-0.321697844931264,-0.525286025873995,0.200891492879683,-0.592727569994894,0.202797158665316,-0.451093282138266,-1.11254113589473,-0.728605707461819,-0.747146083350669,-0.052088267036285],"y":[-1.07163043730106,-0.823376013252998,-0.396581892891086,0.0914679320864139,-0.807241866259483,-1.62126023403829,-0.336545177556359,-1.32989239439554,-0.204524322286539,-0.50600686198489,-0.532356097560659,-0.500550368692597,-0.539275598142081,-1.12490497370558,-0.333275154552845,-0.330814666024897,-0.417121930127446,-0.231087604137898,-0.734317347500156,-1.08006848968327,-0.283667946953376,-0.277336749580544,-0.68656462909016,-1.85178411451884,-0.168212029019433,-1.64761065932475,-0.113094397791004,-0.346094990442854,0.271131875013933,-0.363721705698158,-0.813143532540166],"text":["Country: Belgium","Country: Chile","Country: Czech Republic","Country: Denmark","Country: Finland","Country: France","Country: Germany","Country: Greece","Country: Hungary","Country: Iceland","Country: Italy","Country: Luxembourg","Country: Mexico","Country: Netherlands","Country: Norway","Country: Poland","Country: Portugal","Country: Slovak Republic","Country: Slovenia","Country: Spain","Country: Sweden","Country: Switzerland","Country: Turkey","Country: Argentina","Country: Bosnia and Herzegovina","Country: Brazil","Country: Costa Rica","Country: Croatia","Country: Peru","Country: Serbia","Country: Uruguay"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,186,56,1)"}},"hoveron":"points","name":"2","legendgroup":"2","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.458465395848138,-1.48321915416069,-0.566959631377426,-0.994856745409273,-1.13150895779642,-0.0101617626822732,-0.291495333604072,-0.6420994656399,-0.477786719446084,-0.0285356816551687],"y":[0.574953640993081,2.11690911335881,2.22006026772157,1.82411782975354,0.758297729128504,2.46825752752408,1.48350783025788,0.993188597804116,1.22842380359876,1.60219889232655],"text":["Country: Austria","Country: Japan","Country: Albania","Country: Belarus","Country: Georgia","Country: Kazakhstan","Country: Moldova","Country: Montenegro","Country: Ukraine","Country: Viet Nam"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(97,156,255,1)"}},"hoveron":"points","name":"3","legendgroup":"3","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":27.8721461187215,"r":7.30593607305936,"b":41.8264840182648,"l":37.2602739726027},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1.66801796503209,1.84689896471788],"tickmode":"array","ticktext":["-1","0","1"],"tickvals":[-1,0,1],"categoryorder":"array","categoryarray":["-1","0","1"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"Prevalence of Bullying","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-2.06778619662099,2.68425960962623],"tickmode":"array","ticktext":["-2","-1","0","1","2"],"tickvals":[-2,-1,0,1,2],"categoryorder":"array","categoryarray":["-2","-1","0","1","2"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"Level of Discipline","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"Cluster","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"6c2c5a457aa0":{"x":{},"y":{},"colour":{},"type":"scatter"}},"cur_data":"6c2c5a457aa0","visdat":{"6c2c5a457aa0":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>
 
</p>
</div>
<div id="section-section-9" class="section level3">
<h3></h3>
<p>The clusters are identical to the prior k-means example except the <code>kmod</code> approach explains a higher proportion of variance (73.7%) as the cluster centers are computed while accounting for the local outliers. Try and run a <code>kmod</code> analysis for yourself with k = 3, l = 3. Assign this analysis to <code>kmod_k3l3 &lt;-</code>.</p>
<div class="tutorial-exercise" data-label="kmod-exercise" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="kmod-exercise-hint-1" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>#Look back at the {r kmod} code chunk first to see what we did

## DATA ##
#make sure you are using the right dataset i.e. outlier_data
#Make sure that you are only using the bullying and discipline columns of the data set i.e.  [,2:3]
#Make sure you have the correct value for k and l specified</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="kmod-exercise-hint-2" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>## FUNCTION ##
#Make sure you have the correct value for k and l specified

# WARNING: next hint shows full solution</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="kmod-exercise-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>kmod_k3l3 &lt;- kmod(outlier_data[, 2:3], k=3, l=3)</code></pre>
</div>
<p>
 
</p>
</div>
<div id="section-section-10" class="section level3">
<h3></h3>
<p>Now that you have stored your analysis as <code>kmod_k3l3</code> you can use this to assess the three countries that were treated as local outliers. Use code to index the country names of outliers from the l-index output.</p>
<div class="tutorial-exercise" data-label="lindex-exercise" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="lindex-exercise-hint" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>#Look back at the second line of code in the {r kmod} code chunk first to see what we did

## DATA ##
#You first need to index the outlier data country column i.e. outlier_data$Country
#You also need to index the L-index output from your kmod_k3l3 analysis i.e. kmod_k3l3$L_index

# WARNING: next hint shows full solution</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="lindex-exercise-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>outlier_data$Country[kmod_k3l3$L_index]</code></pre>
</div>
<p>
 
</p>
</div>
<div id="section-section-11" class="section level3">
<h3></h3>
<p>With <code>kmod</code> the lack of discussion around how to set the outlier parameter <span class="math inline">\(l\)</span> and the loss of information due to removing outliers are limitations of this approach. Therefore, if we are working with data that has numerous or large outliers then it may be best to assess a different method.</p>
<p>K-means is the most commonly known approach but the decisions over what distance measure, <span class="math inline">\(k\)</span> or <span class="math inline">\(l\)</span> to use has a great impact on the results. There is no single right answer, researchers should experiment with different combinations to find the most interpretable/useful solution. The main disadvantage of this method though is having to pre-specify the number of clusters <span class="math inline">\(k\)</span>. The rest of this section will cover two other clustering methods that do not pre-specify <span class="math inline">\(k\)</span>.</p>
<p>
 
</p>
</div>
<div id="section-interactive-k-means" class="section level3">
<h3><strong>Interactive K-means</strong></h3>
<p>Take a look at how specifying <span class="math inline">\(k\)</span> affects the clustering solution.</p>
<div class="form-group shiny-input-container">
<label class="control-label" id="k-label" for="k">Number of clusters:</label>
<input class="js-range-slider" id="k" data-skin="shiny" data-min="1" data-max="8" data-from="2" data-step="1" data-grid="true" data-grid-num="7" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number"/>
</div>
<div class="row">
<div class="col-sm-6">
<div id="data" class="shiny-plot-output" style="width:100%;height:400px;"></div>
</div>
<div class="col-sm-6">
<div id="wss" class="shiny-plot-output" style="width:100%;height:400px;"></div>
</div>
</div>
<p><div id="outaaaa73f43ca175bf" class="shiny-text-output"></div><code id="k.code" class="shiny-html-output"></code></p>
<p>
 
</p>
<p>Try running two k-means analyses with 4 clusters (by moving the slider away from 4 and back again). Notice how the clusters may differ slightly even though <span class="math inline">\(k\)</span> was 4 both times. This is due to the fact that the k-means algorithm picks random cluster centers as a initial step. If you were to run many ‘iterations’ of a k-means analysis, your results would be more consistent. That is why setting the <code>nstart</code> parameter is important.</p>
<p>
 
</p>
<p>
 
</p>
</div>
</div>
<div id="section-hierarchical-clustering" class="section level2">
<h2>Hierarchical Clustering</h2>
<div id="section-overview-1" class="section level3">
<h3><strong>Overview</strong></h3>
<p>The Hierarchical Clustering outlined in this section is a bottom-up approach which considers each object (i.e. each country) as a single-element cluster (leafs) initially and then the two most similar clusters are combined into a bigger cluster (nodes). This process continues until all leafs are a member of one cluster (the root). This method by default is calculated via Euclidean distance. The leafs of nodes lower down in the hierarchical tree are more similar than the leafs of nodes higher up. Hierarchical clustering is depicted through dendrograms and the height indicates the similarity of different leafs.</p>
<p>Hierarchical clustering determines the dissimilarity between two groups of observations in the dendrogram through ‘linkage.’ Their are numerous linkage methods: complete, average, single and centroid. This section will focus on complete and average linkage as these produce more balanced clusters and are more robust to outliers than single linkage. In addition, they do not suffer from inversion of cluster nodes like centroid linkage.</p>
<ul>
<li><p>Complete Linkage: Dissimilarity is computed by calculating all pairwise dissimilarities of leafs in cluster A and cluster B and taking the largest value to be the distance between two clusters.</p></li>
<li><p>Average Linkage: Dissimilarity is computed by calculating all pairwise dissimilarities of leafs in cluster A and cluster B and taking the average value to be the distance between two clusters.</p></li>
</ul>
</div>
<div id="section-section-12" class="section level3">
<h3></h3>
<p>Below shows the outcome of hierarchical clustering using complete and average linkage methods.</p>
<pre class="r"><code>#dist() computes the matrix to be used for clustering via Euclidean distance
#method sets your linkage choice = complete linkage
hclust_comp &lt;- hclust(dist(bull_dis[,2:3]), method=&quot;complete&quot;)

#puts cluster output in dendrogram format
dend_comp &lt;- as.dendrogram(hclust_comp) %&gt;%
  #sets leaf labels in country codes rather than their numeric index
  set(&quot;labels&quot;, bull_dis$Country[hclust_comp$order])
#plots dengrogram
plot(dend_comp, ylab = &quot;Height&quot;, main = &#39;Complete Linkage&#39;)</code></pre>
<p><img src="Cluster_Tutorial_files/figure-html/hclust%20complete-1.png" width="1152" /></p>
</div>
<div id="section-section-13" class="section level3">
<h3></h3>
<p>Note that you have seen us run the hierarchical clustering with complete linkage try and run hierarchical clustering with average linkage using the <code>hclust()</code> function. Do not assign your analysis to an object.</p>
<div class="tutorial-exercise" data-label="hclust-exercise" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="hclust-exercise-hint-1" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>#Look back at the first line of code in the {r hclust complete} code chunk first to see what we did

## DATA ##
#Make sure you are using the right dataset i.e. bull_dis
#Make sure that you are only using the bullying and discipline columns of the data set i.e.  [,2:3]</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="hclust-exercise-hint-2" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>## FUNCTION ##
#Have you remembered to compute the distance matrix of the data i.e. dist(bull_dis[,2:3])
#Have you used the right linkage method i.e. method = &quot;average&quot;

# WARNING: next hint shows full solution</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="hclust-exercise-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>hclust(dist(bull_dis[,2:3]), method = &quot;average&quot;)</code></pre>
</div>
</div>
<div id="section-section-14" class="section level3">
<h3></h3>
<p>Below is a dendrogram using the hierarchical clustering you just ran:</p>
<img src="Cluster_Tutorial_files/figure-html/hclust%20average-1.png" width="1152" />
<p>
 
</p>
</div>
<div id="section-section-15" class="section level3">
<h3></h3>
<p>As you can see from the dendrograms each country is its own leaf and as we move up the hierarchy countries that are similar to each other are combined into nodes. However, the way in which the countries are combined is different for each linkage method.</p>
<p><div class="panel-heading tutorial-quiz-title"><span data-i18n="text.quiz">Quiz</span></div></p>
<div class="panel panel-default">
<div data-label="heightq-1" class="tutorial-question panel-body">
<div id="heightq-1-answer_container" class="shiny-html-output"></div>
<div id="heightq-1-message_container" class="shiny-html-output"></div>
<div id="heightq-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<p>So now that we have our dendrograms how do we decipher how many clusters there are?</p>
<p>
 
</p>
</div>
<div id="section-height-and-the-number-of-clusters" class="section level3">
<h3><strong>Height and the number of clusters</strong></h3>
<p>The height of the dendrogram is used to determined the number of clusters, much like <span class="math inline">\(k\)</span> did in the <span class="math inline">\(k\)</span>-means method. By cutting the dendrogram at different heights, we can identify different subgroups. Below is an example on the complete linkage dendrogram. You should assess the different cluster groups across different height values.</p>
<pre class="r"><code>dend_comp = as.dendrogram(hclust_comp) %&gt;%
  set(&quot;labels&quot;, bull_dis$Country[hclust_comp$order])
plot(dend_ave, ylab = &quot;Height&quot;, main = &#39;Complete Linkage&#39;)
#forms rectangular border around the number of specified sub-groups k
rect.hclust(hclust_comp, k = 3, border = 2:5)</code></pre>
<p><img src="Cluster_Tutorial_files/figure-html/height%20complete-1.png" width="1152" /></p>
<pre class="r"><code>dend_comp = as.dendrogram(hclust_comp) %&gt;%
  set(&quot;labels&quot;, bull_dis$Country[hclust_comp$order])
plot(dend_ave, ylab = &quot;Height&quot;, main = &#39;Complete Linkage&#39;)
#forms rectangular border around the number of specified sub-groups k
rect.hclust(hclust_comp, k = 4, border = 2:5)</code></pre>
<img src="Cluster_Tutorial_files/figure-html/height%20complete-2.png" width="1152" />
<p>
 
</p>
</div>
<div id="section-section-16" class="section level3">
<h3></h3>
<p>To get 3 clusters the height of the dendrogram is cut around 3.8 and for 4 subgroups it is cut around 3. Using similar code as we have above create a dendrogram for <code>hclust_ave</code> (hierarchical clustering with average linkage) for <span class="math inline">\(k\)</span> = 3. Use the <code>as.dendrogram()</code> function and assign your <code>as.dendrogram()</code> to an object <code>dend_ave =</code> so that it can be used in the <code>plot()</code> function.</p>
<div class="tutorial-exercise" data-label="dendhclust-exercise" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="dendhclust-exercise-hint-1" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>#Look back at the first line of code in the {r height complet} code chunk first to see what we did

## DATA ##
#Have you correctly assigned your dendrogram? See instructions above.
#Make sure that you are using the right analysis object i.e. hclust_ave
#Make sure you are setting the labels correctly i.e. set(&quot;labels&quot;, bull_dis$Country[hclust_ave$order])

## FUNCTION ##
#Make sure you have used the plot function to dictate what you want to plot and give informative labels i.e. plot(dend_ave, ylab = &quot;Height&quot;, main = &#39;Average Linkage&#39;)
#Have you used rect.hclust to create the coloured boders round the clusters i.e. rect.hclust(hclust_ave, k = 3, border = 2:5)</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="dendhclust-exercise-hint-2" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>## FUNCTION ##
#Make sure you have used the plot function to dictate what you want to plot and give informative labels i.e. plot(dend_ave, ylab = &quot;Height&quot;, main = &#39;Average Linkage&#39;)
#Have you used rect.hclust to create the coloured boders round the clusters i.e. rect.hclust(hclust_ave, k = 3, border = 2:5)

# WARNING: next hint shows full solution</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="dendhclust-exercise-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>dend_ave = as.dendrogram(hclust_ave) %&gt;%
  set(&quot;labels&quot;, bull_dis$Country[hclust_ave$order])
plot(dend_ave, ylab = &quot;Height&quot;, main = &#39;Average Linkage&#39;)
rect.hclust(hclust_ave, k = 3, border = 2:5)</code></pre>
</div>
<p><div class="panel-heading tutorial-quiz-title"><span data-i18n="text.quiz">Quiz</span></div></p>
<div class="panel panel-default">
<div data-label="dendroq-1" class="tutorial-question panel-body">
<div id="dendroq-1-answer_container" class="shiny-html-output"></div>
<div id="dendroq-1-message_container" class="shiny-html-output"></div>
<div id="dendroq-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<p><div class="panel-heading tutorial-quiz-title"><span data-i18n="text.quiz">Quiz</span></div></p>
<div class="panel panel-default">
<div data-label="similq-1" class="tutorial-question panel-body">
<div id="similq-1-answer_container" class="shiny-html-output"></div>
<div id="similq-1-message_container" class="shiny-html-output"></div>
<div id="similq-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<p>
 
</p>
</div>
<div id="section-section-17" class="section level3">
<h3></h3>
<p>You can also use the function <code>cutree</code> to get an index of which countries belong to each cluster to visualise these in the original scatter plot form and see how this method groups countries in comparison to k-means.</p>
<pre class="r"><code>k4 &lt;- cutree(hclust_comp, k = 4)

k4_bull_dis &lt;- bull_dis %&gt;%
  mutate(Cluster = as.factor(k4))</code></pre>
<div id="htmlwidget-8e1fe96c0688a849169a" style="width:624px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-8e1fe96c0688a849169a">{"x":{"data":[{"x":[1.02702597497486,-0.458465395848138,0.31726493307266,0.28700828943316,-0.22438831162937,-0.0190769799978376,0.186602284546031,1.14560003442995,-0.192902162080327,1.21551137775086,-0.0825054364413836,-0.0778267460690828,0.534167102473388,0.249523518523946,0.404025245324014,1.68713001336561,0.0710036544294545,1.02953535620329,0.651260384792187,0.186119293076992,1.09662539964382,0.943142942719956,1.19374514673976,0.376519087325407,-0.728605707461819,0.762372531203127,0.840239754818083,1.01035185946307,-0.252116406431404,0.680264197055023,0.20590103384723,0.705806496701854,-0.052088267036285],"y":[-1.12971334843088,0.574953640993081,-0.832044398585683,-0.0723921042914921,0.0914679320864139,0.117204177559625,-0.314808588704751,-0.0363606208088326,0.486923651605771,-0.966680481217229,-0.330814666024897,-0.231087604137898,-0.245641657579665,-0.091509556786532,-0.447036611804616,-0.216567585207308,0.358329990415945,0.0995227625382941,0.543418371406291,-0.0558074530565581,-0.279668344373597,-1.02160460012716,-1.11109014140371,-0.859185923982875,0.271131875013933,-0.592535018099953,0.759827967121555,1.02635051516232,0.390157874847374,-0.163203738546022,0.594711416499631,0.50136166940581,-0.813143532540166],"text":["Country: Australia","Country: Austria","Country: Canada","Country: Colombia","Country: Denmark","Country: Estonia","Country: Ireland","Country: Latvia","Country: Lithuania","Country: New Zealand","Country: Poland","Country: Slovak Republic","Country: United Kingdom","Country: United States","Country: Bulgaria","Country: Dominican Republic","Country: Hong Kong (China)","Country: Indonesia","Country: Jordan","Country: Macao (China)","Country: Malaysia","Country: Malta","Country: Morocco","Country: Panama","Country: Peru","Country: Qatar","Country: Romania","Country: Russia","Country: Saudi Arabia","Country: Singapore","Country: Thailand","Country: United Arab Emirates","Country: Uruguay"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"1","legendgroup":"1","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.806274642029532,-0.373658075038693,-0.40466165412374,-0.478767921834246,-0.563048705566942,-0.40881961861702,-0.337515481893504,-0.81782534656564,-1.08097439152546,-0.645350042815527,-0.531393111817726,-0.414358171385825,-1.50824901367982,-0.858205004547626,-1.33446111265126,-0.598575580222579,-1.28816669655839,-0.815768268202822,-0.321697844931264,-0.525286025873995,0.200891492879683,-0.592727569994894,0.202797158665316,-0.451093282138266,-1.11254113589473,-0.747146083350669],"y":[-1.07163043730106,-0.823376013252998,-0.396581892891086,-0.807241866259483,-1.62126023403829,-0.336545177556359,-1.32989239439554,-0.204524322286539,-0.50600686198489,-0.532356097560659,-0.500550368692597,-0.539275598142081,-1.12490497370558,-0.333275154552845,-0.417121930127446,-0.734317347500156,-1.08006848968327,-0.283667946953376,-0.277336749580544,-0.68656462909016,-1.85178411451884,-0.168212029019433,-1.64761065932475,-0.113094397791004,-0.346094990442854,-0.363721705698158],"text":["Country: Belgium","Country: Chile","Country: Czech Republic","Country: Finland","Country: France","Country: Germany","Country: Greece","Country: Hungary","Country: Iceland","Country: Italy","Country: Luxembourg","Country: Mexico","Country: Netherlands","Country: Norway","Country: Portugal","Country: Slovenia","Country: Spain","Country: Sweden","Country: Switzerland","Country: Turkey","Country: Argentina","Country: Bosnia and Herzegovina","Country: Brazil","Country: Costa Rica","Country: Croatia","Country: Serbia"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(124,174,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(124,174,0,1)"}},"hoveron":"points","name":"2","legendgroup":"2","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-1.48321915416069,-0.566959631377426,-0.994856745409273,-1.13150895779642,-0.0101617626822732,-0.291495333604072,-0.6420994656399,-0.477786719446084,-0.0285356816551687],"y":[2.11690911335881,2.22006026772157,1.82411782975354,0.758297729128504,2.46825752752408,1.48350783025788,0.993188597804116,1.22842380359876,1.60219889232655],"text":["Country: Japan","Country: Albania","Country: Belarus","Country: Georgia","Country: Kazakhstan","Country: Moldova","Country: Montenegro","Country: Ukraine","Country: Viet Nam"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,196,1)"}},"hoveron":"points","name":"3","legendgroup":"3","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.88889647523883,4.66275728896673],"y":[-0.50155753726802,-1.134105353487],"text":["Country: Brunei Darussalam","Country: Philippines"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(199,124,255,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(199,124,255,1)"}},"hoveron":"points","name":"4","legendgroup":"4","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":27.8721461187215,"r":7.30593607305936,"b":41.8264840182648,"l":37.2602739726027},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1.81679932881214,4.97130760409906],"tickmode":"array","ticktext":["0","2","4"],"tickvals":[2.22044604925031e-16,2,4],"categoryorder":"array","categoryarray":["0","2","4"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"Prevalence of Bullying","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-2.06778619662099,2.68425960962623],"tickmode":"array","ticktext":["-2","-1","0","1","2"],"tickvals":[-2,-1,0,1,2],"categoryorder":"array","categoryarray":["-2","-1","0","1","2"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"Level of Discipline","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"Cluster","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"6c2c5f79522f":{"x":{},"y":{},"colour":{},"type":"scatter"}},"cur_data":"6c2c5f79522f","visdat":{"6c2c5f79522f":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>
 
</p>
</div>
<div id="section-comparing-two-dendrograms" class="section level3">
<h3><strong>Comparing two dendrograms</strong></h3>
<p>You can also compare two dendrograms to see how using different linkage methods affects the clustering of leafs using <code>tanglegram</code>.</p>
<pre class="r"><code>#default comparison
tanglegram(dend_comp, dend_ave, 
           main = &quot;Complete vs. Average Linkage&quot;
           )</code></pre>
<p><img src="Cluster_Tutorial_files/figure-html/dendro%20comparison-1.png" width="960" /></p>
<pre class="r"><code>#comparison using entanglement
dend_list &lt;- dendlist(dend_comp, dend_ave)
tanglegram(dend_comp, dend_ave,
  highlight_distinct_edges = FALSE, # Turn-off dashed lines
  common_subtrees_color_lines = FALSE, # Turn-off line colors between dendrograms
  common_subtrees_color_branches = TRUE, # Color common branches 
  main = paste(&quot;entanglement =&quot;, round(entanglement(dend_list), 2))
  )</code></pre>
<img src="Cluster_Tutorial_files/figure-html/dendro%20comparison-2.png" width="960" />
<p>
 
</p>
</div>
<div id="section-section-18" class="section level3">
<h3></h3>
<p>The first plot highlights (via coloured lines) which countries have been fused in the same way across both dendrograms. The dashed lines show unique combinations of branches not seen in the other dendrogram. The second plot shows the branches that are common between the two dendrograms. It also assess the entanglement of the two dendrograms; a measure of how in line the two dendrograms are. Entanglement is a value from 0 (full entanglement) to 1 (no entanglement), with lower values indicating higher alignment. This illustrates how different linkage methods lead to dissimilarity being interpreted differently.</p>
<p>The height you choose to cut the tree and the linkage methods used are decisions that effect the results of analysis. You should consider and range of values and find the solution that demonstrates some interesting aspect of your data.</p>
<p>
 
</p>
</div>
<div id="section-interactive-hierarchical-clustering" class="section level3">
<h3><strong>Interactive Hierarchical Clustering</strong></h3>
<p>See how changing the height at which the cluster ‘tree’ is cut changes the clusters. The clustering solution at each height will be identical whenever it is cut at that height (unlike how k-means solutions can vary, given the same value of <span class="math inline">\(k\)</span>). Notice how changing the distance calculation method changes the entire structure of the tree, including its maximum height.</p>
<div class="row">
<div class="col-sm-6">
<div class="form-group shiny-input-container">
<label class="control-label" id="h-label" for="h">Height to cut tree</label>
<input class="js-range-slider" id="h" data-skin="shiny" data-min="1" data-max="8" data-from="4" data-step="0.1" data-grid="true" data-grid-num="10" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number"/>
</div>
</div>
<div class="col-sm-6">
<div id="method" class="form-group shiny-input-radiogroup shiny-input-container shiny-input-container-inline" role="radiogroup" aria-labelledby="method-label">
<label class="control-label" id="method-label" for="method">Distance calculation:</label>
<div class="shiny-options-group">
<label class="radio-inline">
<input type="radio" name="method" value="complete" checked="checked"/>
<span>complete</span>
</label>
<label class="radio-inline">
<input type="radio" name="method" value="average"/>
<span>average</span>
</label>
</div>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-6">
<div id="hdata" class="shiny-plot-output" style="width:100%;height:400px;"></div>
</div>
<div class="col-sm-6">
<div id="hplot" class="shiny-plot-output" style="width:100%;height:400px;"></div>
</div>
</div>
<p><div id="out061955c550319105" class="shiny-text-output"></div><code id="h.code" class="shiny-html-output"></code></p>
<p>
 
</p>
<p>
 
</p>
</div>
</div>
<div id="section-dbscan" class="section level2">
<h2>DBSCAN</h2>
<div id="section-overview-2" class="section level3">
<h3><strong>Overview</strong></h3>
<p><strong>Density Based Spatial Clustering of Applications with Noise</strong> (DBSCAN) is another method that does not need you to pre-specify the number of clusters. It also allows the data to be clustered into whatever arbitrary shape best fits the cluster. This is more flexible than the k-means and hierarchical approaches. It is designed to help work with data where we are dealing with clusters of differing size, shape and density. This method groups together data points that are in close proximity based on distance (i.e. Euclidean or other) and a minimum number of points. It identifies outliers in the data set that sit in a low density space and does not include these within the resultant clusters. This is advantageous over <code>kmod</code> as you do not need to preset the number of outliers.</p>
<p>The two parameters the researcher needs to estimate when using this method are:</p>
<p>‘eps’ = epsilon, the <span class="math inline">\(\epsilon\)</span>-neighborhood is defined as the radius of the neighborhood around the core data point (data point with neighbor count <span class="math inline">\(\ge\)</span> MinPts). If eps is too small then a large proportion of the data will not be modeled and treated as an outlier. If eps is too large then the majority of data points will be in the same cluster.</p>
<p>‘MinPts’= the minimum number of neighbors within ‘eps’ radius. With larger data sets, this parameter value should be higher. MinPts must be at least 3 as we need a minimum of 3 points to form a dense region. If MinPts is <span class="math inline">\(\le\)</span> 2 the output is the same as a Hierarchical cluster with single linkage and height cut at <span class="math inline">\(\epsilon\)</span>.</p>
<p>For a more indepth look at the DBSCAN algorithm and r implementation see <a href="https://www.jstatsoft.org/article/view/v091i01">Hahsler, Piekenbrock &amp; Doran (2019).</a></p>
<p>
 
</p>
</div>
<div id="section-determining-epsilon" class="section level3">
<h3><strong>Determining epsilon</strong></h3>
<p>So how do we determine these parameters? As we are working with quite a small data set we will set MinPts to 3. <span class="math inline">\(\epsilon\)</span> can be inferred using the average distances of each point to their K-Nearest Neighbors, where <span class="math inline">\(k\)</span> is specified by the researcher in relation to MinPts. This is ploted in ascending order as a function of <span class="math inline">\(\epsilon\)</span>. You are looking for an elbow indicating a sharp change in the KNN distance curve.</p>
<pre class="r"><code>#uses distance method to determine eps
dbscan::kNNdistplot(bull_dis[,2:3], k = 3)
#creates dashed line across plot
abline(h = 0.80, lty = 2)</code></pre>
<img src="Cluster_Tutorial_files/figure-html/KNN%20elbow-1.png" width="624" />
<p>
 
</p>
<p>You can see from the above plot that the elbow begins at around <span class="math inline">\(\epsilon\)</span> 0.80.</p>
</div>
<div id="section-running-analysis" class="section level3">
<h3><strong>Running Analysis</strong></h3>
<p>Now that we have our two parameters you can run the analysis. We will use the <code>dbscan</code> function in the <code>fpc</code> package rather than the one in the <code>dbscan</code> package. This is due to the output of the former being more detailed.</p>
<pre class="r"><code>#runs density cluster analysis 
db &lt;- fpc::dbscan(bull_dis[, 2:3], eps = 0.80, MinPts = 3)

#add cluster column to table
db_data &lt;- bull_dis %&gt;%
  mutate(Cluster = as.factor(db$cluster))

#scatter plot by cluster
ggplotly(
    ggplot(db_data, aes(Bullying, Discipline, group = Country, colour = Cluster)) +
  geom_point() +
  #axis labels
  xlab(&#39;Prevalence of Bullying&#39;) +
  ylab(&#39;Level of Discipline&#39;) + 
  theme_minimal(), 

tooltip = &quot;group&quot;)</code></pre>
<div id="htmlwidget-bb3486349adfa5d821dc" style="width:624px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-bb3486349adfa5d821dc">{"x":{"data":[{"x":[2.88889647523883,4.66275728896673],"y":[-0.50155753726802,-1.134105353487],"text":["Country: Brunei Darussalam","Country: Philippines"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"0","legendgroup":"0","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.02702597497486,-0.458465395848138,-0.806274642029532,0.31726493307266,-0.373658075038693,0.28700828943316,-0.40466165412374,-0.22438831162937,-0.0190769799978376,-0.478767921834246,-0.563048705566942,-0.40881961861702,-0.337515481893504,-0.81782534656564,-1.08097439152546,0.186602284546031,-0.645350042815527,-1.48321915416069,1.14560003442995,-0.192902162080327,-0.531393111817726,-0.414358171385825,-1.50824901367982,1.21551137775086,-0.858205004547626,-0.0825054364413836,-1.33446111265126,-0.0778267460690828,-0.598575580222579,-1.28816669655839,-0.815768268202822,-0.321697844931264,-0.525286025873995,0.534167102473388,0.249523518523946,-0.566959631377426,0.200891492879683,-0.994856745409273,-0.592727569994894,0.202797158665316,0.404025245324014,-0.451093282138266,-1.11254113589473,1.68713001336561,-1.13150895779642,0.0710036544294545,1.02953535620329,0.651260384792187,-0.0101617626822732,0.186119293076992,1.09662539964382,0.943142942719956,-0.291495333604072,-0.6420994656399,1.19374514673976,0.376519087325407,-0.728605707461819,0.762372531203127,0.840239754818083,1.01035185946307,-0.252116406431404,-0.747146083350669,0.680264197055023,0.20590103384723,-0.477786719446084,0.705806496701854,-0.052088267036285,-0.0285356816551687],"y":[-1.12971334843088,0.574953640993081,-1.07163043730106,-0.832044398585683,-0.823376013252998,-0.0723921042914921,-0.396581892891086,0.0914679320864139,0.117204177559625,-0.807241866259483,-1.62126023403829,-0.336545177556359,-1.32989239439554,-0.204524322286539,-0.50600686198489,-0.314808588704751,-0.532356097560659,2.11690911335881,-0.0363606208088326,0.486923651605771,-0.500550368692597,-0.539275598142081,-1.12490497370558,-0.966680481217229,-0.333275154552845,-0.330814666024897,-0.417121930127446,-0.231087604137898,-0.734317347500156,-1.08006848968327,-0.283667946953376,-0.277336749580544,-0.68656462909016,-0.245641657579665,-0.091509556786532,2.22006026772157,-1.85178411451884,1.82411782975354,-0.168212029019433,-1.64761065932475,-0.447036611804616,-0.113094397791004,-0.346094990442854,-0.216567585207308,0.758297729128504,0.358329990415945,0.0995227625382941,0.543418371406291,2.46825752752408,-0.0558074530565581,-0.279668344373597,-1.02160460012716,1.48350783025788,0.993188597804116,-1.11109014140371,-0.859185923982875,0.271131875013933,-0.592535018099953,0.759827967121555,1.02635051516232,0.390157874847374,-0.363721705698158,-0.163203738546022,0.594711416499631,1.22842380359876,0.50136166940581,-0.813143532540166,1.60219889232655],"text":["Country: Australia","Country: Austria","Country: Belgium","Country: Canada","Country: Chile","Country: Colombia","Country: Czech Republic","Country: Denmark","Country: Estonia","Country: Finland","Country: France","Country: Germany","Country: Greece","Country: Hungary","Country: Iceland","Country: Ireland","Country: Italy","Country: Japan","Country: Latvia","Country: Lithuania","Country: Luxembourg","Country: Mexico","Country: Netherlands","Country: New Zealand","Country: Norway","Country: Poland","Country: Portugal","Country: Slovak Republic","Country: Slovenia","Country: Spain","Country: Sweden","Country: Switzerland","Country: Turkey","Country: United Kingdom","Country: United States","Country: Albania","Country: Argentina","Country: Belarus","Country: Bosnia and Herzegovina","Country: Brazil","Country: Bulgaria","Country: Costa Rica","Country: Croatia","Country: Dominican Republic","Country: Georgia","Country: Hong Kong (China)","Country: Indonesia","Country: Jordan","Country: Kazakhstan","Country: Macao (China)","Country: Malaysia","Country: Malta","Country: Moldova","Country: Montenegro","Country: Morocco","Country: Panama","Country: Peru","Country: Qatar","Country: Romania","Country: Russia","Country: Saudi Arabia","Country: Serbia","Country: Singapore","Country: Thailand","Country: Ukraine","Country: United Arab Emirates","Country: Uruguay","Country: Viet Nam"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,196,1)"}},"hoveron":"points","name":"1","legendgroup":"1","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":27.8721461187215,"r":7.30593607305936,"b":41.8264840182648,"l":37.2602739726027},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1.81679932881214,4.97130760409906],"tickmode":"array","ticktext":["0","2","4"],"tickvals":[2.22044604925031e-16,2,4],"categoryorder":"array","categoryarray":["0","2","4"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"Prevalence of Bullying","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-2.06778619662099,2.68425960962623],"tickmode":"array","ticktext":["-2","-1","0","1","2"],"tickvals":[-2,-1,0,1,2],"categoryorder":"array","categoryarray":["-2","-1","0","1","2"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"Level of Discipline","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"Cluster","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"6c2c3dcd2429":{"x":{},"y":{},"colour":{},"type":"scatter"}},"cur_data":"6c2c3dcd2429","visdat":{"6c2c3dcd2429":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<pre><code>#there is also an inbuilt plot function that can be used
fviz_cluster(db, data = bull_dis[, 2:3], stand = FALSE,
             #ellipse = FALSE, show.clust.cent = FALSE,
             #geom = &quot;point&quot;, palette = &quot;jco&quot;, ggtheme = theme_classic())</code></pre>
<p>
 
</p>
</div>
<div id="section-section-19" class="section level3">
<h3></h3>
<p>The outliers are identified by cluster = 0 in this plot. You can see here the resultant clusters are different to those in the previous methods but DBSCAN has managed to form clusters taking into account outliers that we had noticed could be problematic in the previous methods (i.e. Brunei Darussalam and Philippines).</p>
<p><div class="panel-heading tutorial-quiz-title"><span data-i18n="text.quiz">Quiz</span></div></p>
<div class="panel panel-default">
<div data-label="DBSCANq-1" class="tutorial-question panel-body">
<div id="DBSCANq-1-answer_container" class="shiny-html-output"></div>
<div id="DBSCANq-1-message_container" class="shiny-html-output"></div>
<div id="DBSCANq-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<p>
 
</p>
</div>
<div id="section-interactive-dbscan" class="section level3">
<h3><strong>Interactive DBSCAN</strong></h3>
<p>Try using DBSCAN yourself. One thing you can notice here is that the optimal size of <span class="math inline">\(\epsilon\)</span>-neighborhood changes in response to the number of minumum points per cluster.</p>
<div class="row">
<div class="col-sm-6">
<div class="form-group shiny-input-container">
<label class="control-label" id="d-label" for="d">Minimum number of points per cluster:</label>
<input class="js-range-slider" id="d" data-skin="shiny" data-min="2" data-max="10" data-from="3" data-step="1" data-grid="true" data-grid-num="8" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number"/>
</div>
</div>
<div class="col-sm-6">
<div class="form-group shiny-input-container">
<label class="control-label" id="ep-label" for="ep">ε-neighborhood (area around cluster centre):</label>
<input class="js-range-slider" id="ep" data-skin="shiny" data-min="0" data-max="4" data-from="0.5" data-step="0.05" data-grid="true" data-grid-num="10" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number"/>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-6">
<div id="ddata" class="shiny-plot-output" style="width:100%;height:400px;"></div>
</div>
<div class="col-sm-6">
<div id="eps" class="shiny-plot-output" style="width:100%;height:400px;"></div>
</div>
</div>
<p><div id="out3899e641f91b4a58" class="shiny-text-output"></div><code id="d.code" class="shiny-html-output"></code></p>
<p>
 
</p>

<script type="application/shiny-prerendered" data-context="server-start">
knitr::opts_chunk$set(echo = TRUE)
set.seed(123) #reproducible simulation

library(tidyverse) #data manipulation
library(plotly) #visualization features
library(ggplot2) #visualization features
#library(ggalt) #visualization features
library(shiny) #interactive plots

library(kmodR) #k-means simultaneous outlier detection 
library(cluster) #clustering algorithms
library(factoextra) #clustering visualization
library(dendextend) #dendrograms visualization
library(fpc) #computing density based clustering
library(dbscan) #computing density based clustering

### INSTALLING LEARNR AND GRADETHIS FROM GITHUB ###
#devtools::install_github("rstudio/learnr")
#devtools::install_github("rstudio-education/gradethis")

library(learnr) #quiz/exercise questions
library(gradethis) #quiz/exercise questions
gradethis::gradethis_setup()

# load pre-made datasets and functions
load(file = "Cluster.Rdata")
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::register_http_handlers(session, metadata = NULL)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::prepare_tutorial_state(session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::i18n_observe_tutorial_language(input, session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
session$onSessionEnded(function() {
        learnr:::event_trigger(session, "session_stop")
      })
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-elbow-exercise-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-elbow-exercise-code-editor`)), session)
output$`tutorial-exercise-elbow-exercise-output` <- renderUI({
  `tutorial-exercise-elbow-exercise-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("knitr::opts_chunk$set(echo = TRUE)", 
"set.seed(123) #reproducible simulation", "", "library(tidyverse) #data manipulation", 
"library(plotly) #visualization features", "library(ggplot2) #visualization features", 
"#library(ggalt) #visualization features", "library(shiny) #interactive plots", 
"", "library(kmodR) #k-means simultaneous outlier detection ", 
"library(cluster) #clustering algorithms", "library(factoextra) #clustering visualization", 
"library(dendextend) #dendrograms visualization", "library(fpc) #computing density based clustering", 
"library(dbscan) #computing density based clustering", "", "### INSTALLING LEARNR AND GRADETHIS FROM GITHUB ###", 
"#devtools::install_github(\"rstudio/learnr\")", "#devtools::install_github(\"rstudio-education/gradethis\")", 
"", "library(learnr) #quiz/exercise questions", "library(gradethis) #quiz/exercise questions", 
"gradethis::gradethis_setup()", "", "# load pre-made datasets and functions", 
"load(file = \"Cluster.Rdata\")"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "elbow-exercise", 
    code = "", opts = list(label = "\"elbow-exercise\"", exercise = "TRUE", 
        exercise.eval = "TRUE"), engine = "r")), code_check = NULL, 
    error_check = NULL, check = structure("grade_code(\"You successfully ran the the average silhouette method!\", \"Check the hints tab to make sure you are on the right track\")", chunk_opts = list(
        label = "elbow-exercise-check")), solution = structure("fviz_nbclust(bull_dis[,2:3], kmeans, method = \"silhouette\")", chunk_opts = list(
        label = "elbow-exercise-solution")), options = list(eval = TRUE, 
        echo = TRUE, results = "markup", tidy = FALSE, tidy.opts = NULL, 
        collapse = FALSE, prompt = FALSE, comment = NA, highlight = FALSE, 
        size = "normalsize", background = "#F7F7F7", strip.white = TRUE, 
        cache = 0, cache.path = "Cluster_Tutorial_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "Cluster_Tutorial_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "elbow-exercise", exercise = TRUE, exercise.eval = TRUE, 
        code = "", out.width.px = 624, out.height.px = 384, params.src = "elbow-exercise, exercise = TRUE, exercise.eval = TRUE", 
        fig.alt = NULL, fig.num = 0L, exercise.df_print = "paged"), 
    engine = "r"), class = "tutorial_exercise"))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "optimakmethodsq-1", 
    question = structure("A researcher tries to determine the optimal value for k by looking at the ratio of between cluster varience and within cluster variance as a function of k. What is this method called?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_a27db60", 
        option = "Gap Statistic", value = "Gap Statistic", label = structure("Gap Statistic", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_6ecb62e", 
        option = "Calinski-Harabasz Index", value = "Calinski-Harabasz Index", 
        label = structure("Calinski-Harabasz Index", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_e79f2b8", 
        option = "Elbow Method", value = "Elbow Method", label = structure("Elbow Method", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_f3a4f97", 
        option = "Average Silhouette", value = "Average Silhouette", 
        label = structure("Average Silhouette", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct! You might not have recognised the answer option &#39;Gap Statistic&#39; but this is another method for deciding k that this tutorial did not cover. Use the resources linked to find out more about it!", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "optimakmethodsq-1-answer", question = "optimakmethodsq-1"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nA researcher tries to determine the optimal value for k by looking at the ratio of between cluster varience and within cluster variance as a function of k. What is this method called?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 506527779.26413, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "goodclusteringq-1", 
    question = structure("Complete the statement. A good clustering analysis has...", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_9ae154e", 
        option = "high between cluster variance and high within cluster variance", 
        value = "high between cluster variance and high within cluster variance", 
        label = structure("high between cluster variance and high within cluster variance", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_cfe417c", 
        option = "high between cluster variance and low within cluster variance", 
        value = "high between cluster variance and low within cluster variance", 
        label = structure("high between cluster variance and low within cluster variance", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_8126d2c", 
        option = "low between cluster variance and low within cluster variance", 
        value = "low between cluster variance and low within cluster variance", 
        label = structure("low between cluster variance and low within cluster variance", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_b0a7aaa", 
        option = "low between cluster variance and high within cluster variance", 
        value = "low between cluster variance and high within cluster variance", 
        label = structure("low between cluster variance and high within cluster variance", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct! When we create clusters we want the data points in each cluster to be different from data points in other clusters (i.e. high between cluster variance) but we also want the data points within a cluster to be similar to each other (i.e. low within cluster variance)!", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "goodclusteringq-1-answer", question = "goodclusteringq-1"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nComplete the statement. A good clustering analysis has...\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 488905572.772336, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "optimalk-1", question = structure("What is the optimal value of k?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_499eae3", 
    option = "4", value = "4", label = structure("4", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_c9ce5d8", 
    option = "2", value = "2", label = structure("2", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_68b2b63", 
    option = "3", value = "3", label = structure("3", html = TRUE, class = c("html", 
    "character")), correct = TRUE, message = NULL), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_e20d6db", 
    option = "5", value = "5", label = structure("5", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct! The elbow in the first graph is around k = 3 and the peak in average silhouette is at k = 3", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "optimalk-1-answer", question = "optimalk-1"), loading = structure("<strong>Loading:<\u002fstrong> \nWhat is the optimal value of k?\n<br/><br/><br/>", html = TRUE, class = c("html", 
"character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 2019638113.55953, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-kmeans-exercise-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-kmeans-exercise-code-editor`)), session)
output$`tutorial-exercise-kmeans-exercise-output` <- renderUI({
  `tutorial-exercise-kmeans-exercise-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("knitr::opts_chunk$set(echo = TRUE)", 
"set.seed(123) #reproducible simulation", "", "library(tidyverse) #data manipulation", 
"library(plotly) #visualization features", "library(ggplot2) #visualization features", 
"#library(ggalt) #visualization features", "library(shiny) #interactive plots", 
"", "library(kmodR) #k-means simultaneous outlier detection ", 
"library(cluster) #clustering algorithms", "library(factoextra) #clustering visualization", 
"library(dendextend) #dendrograms visualization", "library(fpc) #computing density based clustering", 
"library(dbscan) #computing density based clustering", "", "### INSTALLING LEARNR AND GRADETHIS FROM GITHUB ###", 
"#devtools::install_github(\"rstudio/learnr\")", "#devtools::install_github(\"rstudio-education/gradethis\")", 
"", "library(learnr) #quiz/exercise questions", "library(gradethis) #quiz/exercise questions", 
"gradethis::gradethis_setup()", "", "# load pre-made datasets and functions", 
"load(file = \"Cluster.Rdata\")"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "kmeans-exercise", 
    code = "", opts = list(label = "\"kmeans-exercise\"", exercise = "TRUE", 
        exercise.eval = "TRUE"), engine = "r")), code_check = NULL, 
    error_check = NULL, check = structure("grade_code(\"You successfully ran a kmeans analysis!\", \"Check the hints tab to make sure you are on the right track\")", chunk_opts = list(
        label = "kmeans-exercise-check")), solution = structure("kmeans(outlier_data[, 2:3], 3, nstart = 100)", chunk_opts = list(
        label = "kmeans-exercise-solution")), options = list(
        eval = TRUE, echo = TRUE, results = "markup", tidy = FALSE, 
        tidy.opts = NULL, collapse = FALSE, prompt = FALSE, comment = NA, 
        highlight = FALSE, size = "normalsize", background = "#F7F7F7", 
        strip.white = TRUE, cache = 0, cache.path = "Cluster_Tutorial_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "Cluster_Tutorial_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "kmeans-exercise", exercise = TRUE, exercise.eval = TRUE, 
        code = "", out.width.px = 624, out.height.px = 384, params.src = "kmeans-exercise, exercise = TRUE, exercise.eval = TRUE", 
        fig.alt = NULL, fig.num = 0L, exercise.df_print = "paged"), 
    engine = "r"), class = "tutorial_exercise"))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "varexplainedq-1", 
    question = structure("What percentage range does the variance explained from your output fall in to?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_ba9974", 
        option = "70-75%", value = "70-75%", label = structure("70-75%", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_8731ebd", 
        option = "60-65%", value = "60-65%", label = structure("60-65%", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_e475931", 
        option = "65-70%", value = "65-70%", label = structure("65-70%", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_8d2ad86", 
        option = "55-60%", value = "55-60%", label = structure("55-60%", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct! The between_SS / total_SS section of the kmeans output allows you assess the % varience explained", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "varexplainedq-1-answer", question = "varexplainedq-1"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nWhat percentage range does the variance explained from your output fall in to?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 980572677.043385, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "distanceq-1", 
    question = structure("What does the distance value in the table above represent?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_5666128", 
        option = "The distance between the countries data point and the grand mean", 
        value = "The distance between the countries data point and the grand mean", 
        label = structure("The distance between the countries data point and the grand mean", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_e4f31d3", 
        option = "The distance between the countries data point and all the other countries in its cluster", 
        value = "The distance between the countries data point and all the other countries in its cluster", 
        label = structure("The distance between the countries data point and all the other countries in its cluster", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_82f4af", 
        option = "The distance between the countries data point and it's cluster centre", 
        value = "The distance between the countries data point and it's cluster centre", 
        label = structure("The distance between the countries data point and it&#39;s cluster centre", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_3cbb15e", 
        option = "The distance between the countries data point and it's neighboring cluster centres", 
        value = "The distance between the countries data point and it's neighboring cluster centres", 
        label = structure("The distance between the countries data point and it&#39;s neighboring cluster centres", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct! The when assessing local outliers we are interested in the distance between datapoints and thier respective cluster centres", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "distanceq-1-answer", question = "distanceq-1"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nWhat does the distance value in the table above represent?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 1474226802.81351, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-kmod-exercise-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-kmod-exercise-code-editor`)), session)
output$`tutorial-exercise-kmod-exercise-output` <- renderUI({
  `tutorial-exercise-kmod-exercise-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("knitr::opts_chunk$set(echo = TRUE)", 
"set.seed(123) #reproducible simulation", "", "library(tidyverse) #data manipulation", 
"library(plotly) #visualization features", "library(ggplot2) #visualization features", 
"#library(ggalt) #visualization features", "library(shiny) #interactive plots", 
"", "library(kmodR) #k-means simultaneous outlier detection ", 
"library(cluster) #clustering algorithms", "library(factoextra) #clustering visualization", 
"library(dendextend) #dendrograms visualization", "library(fpc) #computing density based clustering", 
"library(dbscan) #computing density based clustering", "", "### INSTALLING LEARNR AND GRADETHIS FROM GITHUB ###", 
"#devtools::install_github(\"rstudio/learnr\")", "#devtools::install_github(\"rstudio-education/gradethis\")", 
"", "library(learnr) #quiz/exercise questions", "library(gradethis) #quiz/exercise questions", 
"gradethis::gradethis_setup()", "", "# load pre-made datasets and functions", 
"load(file = \"Cluster.Rdata\")"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "kmod-exercise", 
    code = "", opts = list(label = "\"kmod-exercise\"", exercise = "TRUE", 
        exercise.eval = "TRUE"), engine = "r")), code_check = NULL, 
    error_check = NULL, check = structure("grade_code(\"You successfully ran a kmod analysis!\", \"Check the hints tab to make sure you are on the right track\")", chunk_opts = list(
        label = "kmod-exercise-check")), solution = structure("kmod_k3l3 <- kmod(outlier_data[, 2:3], k=3, l=3)", chunk_opts = list(
        label = "kmod-exercise-solution")), options = list(eval = TRUE, 
        echo = TRUE, results = "markup", tidy = FALSE, tidy.opts = NULL, 
        collapse = FALSE, prompt = FALSE, comment = NA, highlight = FALSE, 
        size = "normalsize", background = "#F7F7F7", strip.white = TRUE, 
        cache = 0, cache.path = "Cluster_Tutorial_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "Cluster_Tutorial_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "kmod-exercise", exercise = TRUE, exercise.eval = TRUE, 
        code = "", out.width.px = 624, out.height.px = 384, params.src = "kmod-exercise, exercise = TRUE, exercise.eval = TRUE", 
        fig.alt = NULL, fig.num = 0L, exercise.df_print = "paged"), 
    engine = "r"), class = "tutorial_exercise"))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-lindex-exercise-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-lindex-exercise-code-editor`)), session)
output$`tutorial-exercise-lindex-exercise-output` <- renderUI({
  `tutorial-exercise-lindex-exercise-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("knitr::opts_chunk$set(echo = TRUE)", 
"set.seed(123) #reproducible simulation", "", "library(tidyverse) #data manipulation", 
"library(plotly) #visualization features", "library(ggplot2) #visualization features", 
"#library(ggalt) #visualization features", "library(shiny) #interactive plots", 
"", "library(kmodR) #k-means simultaneous outlier detection ", 
"library(cluster) #clustering algorithms", "library(factoextra) #clustering visualization", 
"library(dendextend) #dendrograms visualization", "library(fpc) #computing density based clustering", 
"library(dbscan) #computing density based clustering", "", "### INSTALLING LEARNR AND GRADETHIS FROM GITHUB ###", 
"#devtools::install_github(\"rstudio/learnr\")", "#devtools::install_github(\"rstudio-education/gradethis\")", 
"", "library(learnr) #quiz/exercise questions", "library(gradethis) #quiz/exercise questions", 
"gradethis::gradethis_setup()", "", "# load pre-made datasets and functions", 
"load(file = \"Cluster.Rdata\")"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "lindex-exercise", 
    code = "", opts = list(label = "\"lindex-exercise\"", exercise = "TRUE", 
        exercise.eval = "TRUE"), engine = "r")), code_check = NULL, 
    error_check = NULL, check = structure("grade_code(\"You successfully indexed country names of your outliers from your analysis output!\", \"Check the hints tab to make sure you are on the right track\")", chunk_opts = list(
        label = "lindex-exercise-check")), solution = structure("outlier_data$Country[kmod_k3l3$L_index]", chunk_opts = list(
        label = "lindex-exercise-solution")), options = list(
        eval = TRUE, echo = TRUE, results = "markup", tidy = FALSE, 
        tidy.opts = NULL, collapse = FALSE, prompt = FALSE, comment = NA, 
        highlight = FALSE, size = "normalsize", background = "#F7F7F7", 
        strip.white = TRUE, cache = 0, cache.path = "Cluster_Tutorial_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "Cluster_Tutorial_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "lindex-exercise", exercise = TRUE, exercise.eval = TRUE, 
        code = "", out.width.px = 624, out.height.px = 384, params.src = "lindex-exercise, exercise = TRUE, exercise.eval = TRUE", 
        fig.alt = NULL, fig.num = 0L, exercise.df_print = "paged"), 
    engine = "r"), class = "tutorial_exercise"))
</script>
 
<script type="application/shiny-prerendered" data-context="server-start">
k.values <- 1:15

wss.values <- wss.all(data=bull_dis[,2:3])
</script>
 
<script type="application/shiny-prerendered" data-context="server">
observeEvent(input$k,
             {
               dat$cluster <<- as.factor(kmeans(dat[, 2:3], input$k)$cluster)
               output$data <- renderPlot({
    ggplot(data = dat, aes(x = Bullying, y = Discipline)) +
    geom_point(size = 2, alpha = 0.7, aes(color = cluster)) +
    geom_encircle(expand = 0, size = 0, alpha = 0.1, aes(fill = cluster))  +
    theme_minimal() +
    theme(legend.position="none")
               })
               
               output$wss <- renderPlot({
                 ggplot(data.frame(k = k.values, wss = wss.values), 
                        aes(x = k, y = wss)) +
                   geom_line(linetype = 2) +
                   geom_segment(x = 0, xend = input$k,
                                y = wss.values[input$k], 
                                yend = wss.values[input$k],
                                colour = 'blue') +
                   geom_segment(x = input$k, xend = input$k,
                                y = 0, yend = wss.values[input$k],
                                colour = 'blue') +
                   geom_point(colour = 'blue', size = 1.5) +
                   scale_x_continuous(breaks = k.values) +
                   theme_minimal() + 
                   theme(panel.grid.minor = element_blank()) +
                   xlab('Number of clusters') +
                   ylab('WSS')
               })
               
               output$k.code <- renderText(paste0(
                 'stats::kmeans(data[,2:3], ', input$k, ')'))
             })
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-hclust-exercise-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-hclust-exercise-code-editor`)), session)
output$`tutorial-exercise-hclust-exercise-output` <- renderUI({
  `tutorial-exercise-hclust-exercise-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("knitr::opts_chunk$set(echo = TRUE)", 
"set.seed(123) #reproducible simulation", "", "library(tidyverse) #data manipulation", 
"library(plotly) #visualization features", "library(ggplot2) #visualization features", 
"#library(ggalt) #visualization features", "library(shiny) #interactive plots", 
"", "library(kmodR) #k-means simultaneous outlier detection ", 
"library(cluster) #clustering algorithms", "library(factoextra) #clustering visualization", 
"library(dendextend) #dendrograms visualization", "library(fpc) #computing density based clustering", 
"library(dbscan) #computing density based clustering", "", "### INSTALLING LEARNR AND GRADETHIS FROM GITHUB ###", 
"#devtools::install_github(\"rstudio/learnr\")", "#devtools::install_github(\"rstudio-education/gradethis\")", 
"", "library(learnr) #quiz/exercise questions", "library(gradethis) #quiz/exercise questions", 
"gradethis::gradethis_setup()", "", "# load pre-made datasets and functions", 
"load(file = \"Cluster.Rdata\")"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "hclust-exercise", 
    code = "", opts = list(label = "\"hclust-exercise\"", exercise = "TRUE", 
        exercise.eval = "TRUE"), engine = "r")), code_check = NULL, 
    error_check = NULL, check = structure("grade_code(\"You successfully ran a hierarchical clustering!\", \"Check the hints tab to make sure you are on the right track\")", chunk_opts = list(
        label = "hclust-exercise-check")), solution = structure("hclust(dist(bull_dis[,2:3]), method = \"average\")", chunk_opts = list(
        label = "hclust-exercise-solution")), options = list(
        eval = TRUE, echo = TRUE, results = "markup", tidy = FALSE, 
        tidy.opts = NULL, collapse = FALSE, prompt = FALSE, comment = NA, 
        highlight = FALSE, size = "normalsize", background = "#F7F7F7", 
        strip.white = TRUE, cache = 0, cache.path = "Cluster_Tutorial_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "Cluster_Tutorial_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "hclust-exercise", exercise = TRUE, exercise.eval = TRUE, 
        code = "", out.width.px = 624, out.height.px = 384, params.src = "hclust-exercise, exercise = TRUE, exercise.eval = TRUE", 
        fig.alt = NULL, fig.num = 0L, exercise.df_print = "paged"), 
    engine = "r"), class = "tutorial_exercise"))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "heightq-1", question = structure("How can a reseracher determine the similarity between countries when looking at a dendrogram?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_ef06bc3", 
    option = "By looking at the linkage method used", value = "By looking at the linkage method used", 
    label = structure("By looking at the linkage method used", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_8ae35a1", 
    option = "By looking at the height axis", value = "By looking at the height axis", 
    label = structure("By looking at the height axis", html = TRUE, class = c("html", 
    "character")), correct = TRUE, message = NULL), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_382c137", 
    option = "By looking at how close countries are on the horizontal axis", 
    value = "By looking at how close countries are on the horizontal axis", 
    label = structure("By looking at how close countries are on the horizontal axis", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_7d4b240", 
    option = "Similarity cannot be determined using a dendrogram", 
    value = "Similarity cannot be determined using a dendrogram", 
    label = structure("Similarity cannot be determined using a dendrogram", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct! Only height can be used to draw conclusions on the similarity/dissimilarity between two observations NOT the horizontal axis", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "heightq-1-answer", question = "heightq-1"), loading = structure("<strong>Loading:<\u002fstrong> \nHow can a reseracher determine the similarity between countries when looking at a dendrogram?\n<br/><br/><br/>", html = TRUE, class = c("html", 
"character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 1720453809.69885, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-dendhclust-exercise-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-dendhclust-exercise-code-editor`)), session)
output$`tutorial-exercise-dendhclust-exercise-output` <- renderUI({
  `tutorial-exercise-dendhclust-exercise-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("knitr::opts_chunk$set(echo = TRUE)", 
"set.seed(123) #reproducible simulation", "", "library(tidyverse) #data manipulation", 
"library(plotly) #visualization features", "library(ggplot2) #visualization features", 
"#library(ggalt) #visualization features", "library(shiny) #interactive plots", 
"", "library(kmodR) #k-means simultaneous outlier detection ", 
"library(cluster) #clustering algorithms", "library(factoextra) #clustering visualization", 
"library(dendextend) #dendrograms visualization", "library(fpc) #computing density based clustering", 
"library(dbscan) #computing density based clustering", "", "### INSTALLING LEARNR AND GRADETHIS FROM GITHUB ###", 
"#devtools::install_github(\"rstudio/learnr\")", "#devtools::install_github(\"rstudio-education/gradethis\")", 
"", "library(learnr) #quiz/exercise questions", "library(gradethis) #quiz/exercise questions", 
"gradethis::gradethis_setup()", "", "# load pre-made datasets and functions", 
"load(file = \"Cluster.Rdata\")"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "dendhclust-exercise", 
    code = "", opts = list(label = "\"dendhclust-exercise\"", 
        exercise = "TRUE", exercise.eval = "TRUE", fig.width = "12", 
        fig.height = "8"), engine = "r")), code_check = NULL, 
    error_check = NULL, check = structure("grade_code(\"You successfully created a dendrogram!\", \"Check the hints tab to make sure you are on the right track\")", chunk_opts = list(
        label = "dendhclust-exercise-check")), solution = structure(c("dend_ave = as.dendrogram(hclust_ave) %>%", 
    "  set(\"labels\", bull_dis$Country[hclust_ave$order])", 
    "plot(dend_ave, ylab = \"Height\", main = 'Average Linkage')", 
    "rect.hclust(hclust_ave, k = 3, border = 2:5)"), chunk_opts = list(
        label = "dendhclust-exercise-solution", fig.width = 12, 
        fig.height = 8)), options = list(eval = TRUE, echo = TRUE, 
        results = "markup", tidy = FALSE, tidy.opts = NULL, collapse = FALSE, 
        prompt = FALSE, comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "Cluster_Tutorial_cache/html/", cache.vars = NULL, 
        cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
        cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
        fig.align = "default", fig.path = "Cluster_Tutorial_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 12, fig.height = 8, fig.env = "figure", fig.cap = NULL, 
        fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 1152, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "dendhclust-exercise", exercise = TRUE, exercise.eval = TRUE, 
        code = "", out.width.px = 1152, out.height.px = 768, 
        params.src = "dendhclust-exercise, exercise = TRUE, exercise.eval = TRUE, fig.width=12, fig.height=8", 
        fig.alt = NULL, fig.num = 0L, exercise.df_print = "paged"), 
    engine = "r"), class = "tutorial_exercise"))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "dendroq-1", question = structure("From your dendrogram approxiamately what height do we need to cut to get 3 clusters?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_685a7ba", 
    option = "2", value = "2", label = structure("2", html = TRUE, class = c("html", 
    "character")), correct = TRUE, message = NULL), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_1a8cd76", 
    option = "1", value = "1", label = structure("1", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_47d31e9", 
    option = "3", value = "3", label = structure("3", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_5c890ce", 
    option = "4", value = "4", label = structure("4", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "dendroq-1-answer", question = "dendroq-1"), loading = structure("<strong>Loading:<\u002fstrong> \nFrom your dendrogram approxiamately what height do we need to cut to get 3 clusters?\n<br/><br/><br/>", html = TRUE, class = c("html", 
"character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 556724056.740755, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "similq-1", question = structure("From your dendrogram assess whether the following statement is true or false: Argentina and Brazil have a higher similarity than Norway and Sweden?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_787e9ad", 
    option = "True", value = "True", label = structure("True", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_5da80c9", 
    option = "False", value = "False", label = structure("False", html = TRUE, class = c("html", 
    "character")), correct = TRUE, message = NULL), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "similq-1-answer", question = "similq-1"), loading = structure("<strong>Loading:<\u002fstrong> \nFrom your dendrogram assess whether the following statement is true or false: Argentina and Brazil have a higher similarity than Norway and Sweden?\n<br/><br/><br/>", html = TRUE, class = c("html", 
"character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 260429753.378728, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server-start">
hcluster <- hclust(dist(dat[, 2:3]), method = 'average')
hclusterComp <- hclust(dist(dat[, 2:3]), method = 'complete')

maxheight <<- max(c(hcluster$height,
                   hclusterComp$height)) + 1

dat$cluster <- factor(
  cutree(hcluster, h = round(maxheight/2))
)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
observeEvent(input$method,
             {
               hcluster <<- hclust(dist(dat[,2:3]), 
                                   method = input$method)
             })

observeEvent({input$h
  input$method},
  {
    
    dat$cluster <<- factor(
      cutree(hcluster, h = input$h)
    )
    
    output$hdata <- renderPlot(plot_clusters(data = dat))
    
    output$hplot <- renderPlot(h_plot(hcluster = hcluster,
                                      heightplot = input$h))
    
    output$h.code <- renderText(paste0(
      'model <- stats::hclust(dist(data), method = "', input$method, '")\nstats::cutree(model, h = ',
      input$h, ')'
    ))
    
  })
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "DBSCANq-1", question = structure("What parameter is used in DBSCAN clustering to set the radius of the neighbourhood around the core datapoint?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_c07c73", 
    option = "MinPts", value = "MinPts", label = structure("MinPts", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_43469e6", 
    option = "K Nearest Neighbours Distance", value = "K Nearest Neighbours Distance", 
    label = structure("K Nearest Neighbours Distance", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_f7f8de1", 
    option = "Density", value = "Density", label = structure("Density", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_7d0e0a4", 
    option = "epsilon", value = "epsilon", label = structure("epsilon", html = TRUE, class = c("html", 
    "character")), correct = TRUE, message = NULL), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "DBSCANq-1-answer", question = "DBSCANq-1"), loading = structure("<strong>Loading:<\u002fstrong> \nWhat parameter is used in DBSCAN clustering to set the radius of the neighbourhood around the core datapoint?\n<br/><br/><br/>", html = TRUE, class = c("html", 
"character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 1026114995.02218, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
observeEvent({input$d
  input$ep}, {
    
    dat$cluster <- factor(fpc::dbscan(dat[, 2:3], 
                                        eps = input$ep, 
                                        MinPts = input$d)$cluster)
    
    if (length(unique(dat$cluster)) - 1 != 0) {
      
      n.clusters <- length(unique(dat$cluster)) - 1
      
      data.eps <<- data.frame(
        y = sort(
          kNNdist(dat[,2:3], k = input$d)
        ),
        x = 1:nrow(dat)
      )
      
    } else {
      
      if (nrow(filter(dat, cluster == 0)) > 0) {
        
        n.clusters <- 0
        
        data.eps <<- data.frame(
          y = 1,
          x = 1
        )
        
      } else {
        
        n.clusters <- 1
        
        data.eps <<- data.frame(
          y = sort(
            kNNdist(dat[,2:3], k = input$d)
          ),
          x = 1:nrow(dat)
        )
        
      }
      
      
      
    }
    
    output$ddata <- renderPlot({
      
      plot_clusters(data = dat)
      
    })
    
    output$eps <- renderPlot({
      
      ggplot(data.eps, aes(x = x, y = y)) +
        geom_line() +
        geom_hline(yintercept = input$ep, 
                   color = rgb(0.9, 0.5, 0, alpha=0.7),
                   size = 2) +
        theme_minimal() +
        xlab('Points sorted by distance') +
        ylab(paste0(input$d, '-NN distance'))
      
    })
    
    output$d.code <- renderText(paste0(
      'fpc::dbscan(data, eps = ', input$ep, ', MinPits = ', input$d, ')'
    ))
    
  })
</script>
 <!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootstrap"]},{"type":"character","attributes":{},"value":["3.3.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/bootstrap"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["viewport"]}},"value":[{"type":"character","attributes":{},"value":["width=device-width, initial-scale=1"]}]},{"type":"character","attributes":{},"value":["js/bootstrap.min.js","shim/html5shiv.min.js","shim/respond.min.js"]},{"type":"character","attributes":{},"value":["css/cerulean.min.css"]},{"type":"character","attributes":{},"value":["<style>h1 {font-size: 34px;}\n       h1.title {font-size: 38px;}\n       h2 {font-size: 30px;}\n       h3 {font-size: 24px;}\n       h4 {font-size: 18px;}\n       h5 {font-size: 16px;}\n       h6 {font-size: 12px;}\n       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}\n       pre:not([class]) { background-color: white }<\/style>"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.11"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["pagedtable"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pagedtable-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/pagedtable.js"]},{"type":"character","attributes":{},"value":["css/pagedtable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.11"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["textmate.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.11"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1.9017"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9017"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-autocompletion"]},{"type":"character","attributes":{},"value":["0.10.1.9017"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-autocompletion.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9017"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-diagnostics"]},{"type":"character","attributes":{},"value":["0.10.1.9017"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-diagnostics.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9017"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["i18n"]},{"type":"character","attributes":{},"value":["1.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/i18n"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["i18next.min.js","tutorial-i18n-init.js"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["<script id=\"i18n-cstm-trns\" type=\"application/json\">{\"language\":\"en\",\"resources\":{\"en\":{\"translation\":{\"button\":{\"runcode\":\"Run Code\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Hint\",\"hint_plural\":\"Hints\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Next Hint\",\"hintprev\":\"Previous Hint\",\"solution\":\"Solution\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copy to Clipboard\",\"startover\":\"Start Over\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continue\",\"submitanswer\":\"Submit Answer\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Previous Topic\",\"nexttopic\":\"Next Topic\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Try Again\"},\"text\":{\"startover\":\"Start Over\",\"areyousure\":\"Are you sure you want to start over? (all exercise progress will be reset)\",\"youmustcomplete\":\"You must complete the\",\"exercise\":\"exercise\",\"exercise_plural\":\"exercises\",\"inthissection\":\"in this section before continuing.\",\"code\":\"Code\",\"enginecap\":\"{{engine}} $t(text.code)\",\"quiz\":\"Quiz\",\"blank\":\"blank\",\"blank_plural\":\"blanks\",\"exercisecontainsblank\":\"This exercise contains {{count}} $t(text.blank).\",\"pleasereplaceblank\":\"Please replace {{blank}} with valid code.\",\"unparsable\":\"It looks like this might not be valid R code. R cannot determine how to turn your text into a complete command. You may have forgotten to fill in a blank, to remove an underscore, to include a comma between arguments, or to close an opening <code>&quot;<\\/code>, <code>'<\\/code>, <code>(<\\/code> or <code>{<\\/code> with a matching <code>&quot;<\\/code>, <code>'<\\/code>, <code>)<\\/code> or <code>}<\\/code>.\\n\",\"and\":\"and\",\"or\":\"or\",\"listcomma\":\", \",\"oxfordcomma\":\",\"}}},\"fr\":{\"translation\":{\"button\":{\"runcode\":\"Lancer le Code\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Indication\",\"hint_plural\":\"Indications\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Indication Suivante\",\"hintprev\":\"Indication Précédente\",\"solution\":\"Solution\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copier dans le Presse-papier\",\"startover\":\"Recommencer\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continuer\",\"submitanswer\":\"Soumettre\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Chapitre Précédent\",\"nexttopic\":\"Chapitre Suivant\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Réessayer\"},\"text\":{\"startover\":\"Recommencer\",\"areyousure\":\"Êtes-vous certains de vouloir recommencer? (La progression sera remise à zéro)\",\"youmustcomplete\":\"Vous devez d'abord compléter\",\"exercise\":\"l'exercice\",\"exercise_plural\":\"des exercices\",\"inthissection\":\"de cette section avec de continuer.\",\"code\":\"Code\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Quiz\",\"and\":\"et\",\"or\":\"ou\",\"oxfordcomma\":\"\"}}},\"es\":{\"translation\":{\"button\":{\"runcode\":\"Ejecutar código\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Pista\",\"hint_plural\":\"Pistas\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Siguiente pista\",\"hintprev\":\"Pista anterior\",\"solution\":\"Solución\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copiar al portapapeles\",\"startover\":\"Reiniciar\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continuar\",\"submitanswer\":\"Enviar respuesta\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Tema anterior\",\"nexttopic\":\"Tema siguiente\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Volver a intentar\"},\"text\":{\"startover\":\"Reiniciar\",\"areyousure\":\"¿De verdad quieres empezar de nuevo? (todo el progreso del ejercicio se perderá)\",\"youmustcomplete\":\"Debes completar\",\"exercise\":\"el ejercicio\",\"exercise_plural\":\"los ejercicios\",\"inthissection\":\"en esta sección antes de continuar.\",\"code\":\"Código\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Cuestionario\",\"and\":\"y\",\"or\":\"o\",\"oxfordcomma\":\"\"}}},\"pt\":{\"translation\":{\"button\":{\"runcode\":\"Executar código\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Dica\",\"hint_plural\":\"Dicas\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Próxima dica\",\"hintprev\":\"Dica anterior\",\"solution\":\"Solução\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copiar para a área de transferência\",\"startover\":\"Reiniciar\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continuar\",\"submitanswer\":\"Enviar resposta\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Tópico anterior\",\"nexttopic\":\"Próximo tópico\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Tentar novamente\"},\"text\":{\"startover\":\"Reiniciar\",\"areyousure\":\"Tem certeza que deseja começar novamente? (todo o progresso feito será perdido)\",\"youmustcomplete\":\"Você deve completar\",\"exercise\":\"o exercício\",\"exercise_plural\":\"os exercícios\",\"inthissection\":\"nesta seção antes de continuar.\",\"code\":\"Código\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Quiz\",\"and\":\"e\",\"or\":\"ou\",\"oxfordcomma\":\"\"}}},\"tr\":{\"translation\":{\"button\":{\"runcode\":\"Çalistirma Kodu\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Ipucu\",\"hint_plural\":\"Ipuçlari\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Sonraki Ipucu\",\"hintprev\":\"Önceki Ipucu\",\"solution\":\"Çözüm\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Pano'ya Kopyala\",\"startover\":\"Bastan Baslamak\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Devam et\",\"submitanswer\":\"Cevabi onayla\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Önceki Konu\",\"nexttopic\":\"Sonraki Konu\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Tekrar Deneyin\"},\"text\":{\"startover\":\"Bastan Baslamak\",\"areyousure\":\"Bastan baslamak istediginizden emin misiniz? (tüm egzersiz ilerlemesi kaybolacak)\",\"youmustcomplete\":\"Tamamlamalisin\",\"exercise\":\"egzersiz\",\"exercise_plural\":\"egzersizler\",\"inthissection\":\"devam etmeden önce bu bölümde\",\"code\":\"Kod\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Sinav\",\"oxfordcomma\":\"\"}}},\"emo\":{\"translation\":{\"button\":{\"runcode\":\"<U+0001F3C3>\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"<U+0001F4A1>\",\"hint_plural\":\"$t(button.hint)\",\"hinttitle\":\"$t(button.hint)\",\"solution\":\"<U+0001F3AF>\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"<U+0001F4CB>\",\"startover\":\"<U+23EE>\",\"startovertitle\":\"Start Over\",\"continue\":\"<U+2705>\",\"submitanswer\":\"<U+0001F197>\",\"submitanswertitle\":\"Submit Answer\",\"previoustopic\":\"<U+2B05>\",\"nexttopic\":\"<U+27A1>\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"<U+0001F501>\"},\"text\":{\"startover\":\"<U+23EE>\",\"areyousure\":\"<U+0001F914>\",\"youmustcomplete\":\"<U+26A0><U+FE0F> <U+0001F449> <U+0001F9D1><U+200D><U+0001F4BB>\",\"exercise\":\"\",\"exercise_plural\":\"\",\"inthissection\":\"\",\"code\":\"<U+0001F4BB>\",\"enginecap\":\"$t(text.code) {{engine}}\",\"oxfordcomma\":\"\"}}},\"eu\":{\"translation\":{\"button\":{\"runcode\":\"Kodea egikaritu\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Laguntza\",\"hint_plural\":\"Laguntza\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Aurreko laguntza\",\"hintprev\":\"Hurrengo laguntza\",\"solution\":\"Ebazpena\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Arbelean kopiatu\",\"startover\":\"Berrabiarazi\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Jarraitu\",\"submitanswer\":\"Erantzuna bidali\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Aurreko atala\",\"nexttopic\":\"Hurrengo atala\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Berriro saiatu\"},\"text\":{\"startover\":\"Berrabiarazi\",\"areyousure\":\"Berriro hasi nahi duzu? (egindako lana galdu egingo da)\",\"youmustcomplete\":\"Aurrera egin baino lehen atal honetako\",\"exercise\":\"ariketa egin behar duzu.\",\"exercise_plural\":\"ariketak egin behar dituzu.\",\"inthissection\":\"\",\"code\":\"Kodea\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Galdetegia\",\"oxfordcomma\":\"\"}}},\"de\":{\"translation\":{\"button\":{\"runcode\":\"Code ausführen\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Tipp\",\"hint_plural\":\"Tipps\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Nächster Tipp\",\"hintprev\":\"Vorheriger Tipp\",\"solution\":\"Lösung\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"In die Zwischenablage kopieren\",\"startover\":\"Neustart\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Weiter\",\"submitanswer\":\"Antwort einreichen\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Vorheriges Kapitel\",\"nexttopic\":\"Nächstes Kapitel\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Nochmal versuchen\"},\"text\":{\"startover\":\"Neustart\",\"areyousure\":\"Bist du sicher, dass du neustarten willst? (der gesamte Lernfortschritt wird gelöscht)\",\"youmustcomplete\":\"Vervollstädinge\",\"exercise\":\"die Übung\",\"exercise_plural\":\"die Übungen\",\"inthissection\":\"in diesem Kapitel, bevor du fortfährst.\",\"code\":\"Code\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Quiz\",\"blank\":\"Lücke\",\"blank_plural\":\"Lücken\",\"pleasereplaceblank\":\"Bitte ersetze {{blank}} mit gültigem Code.\",\"unparsable\":\"Dies scheint kein gültiger R Code zu sein. R kann deinen Text nicht in einen gültigen Befehl übersetzen. Du hast vielleicht vergessen, die Lücke zu füllen, einen Unterstrich zu entfernen, ein Komma zwischen Argumente zu setzen oder ein eröffnendes <code>&quot;<\\/code>, <code>'<\\/code>, <code>(<\\/code> oder <code>{<\\/code> mit einem zugehörigen <code>&quot;<\\/code>, <code>'<\\/code>, <code>)<\\/code> oder <code>}<\\/code> zu schließen.\\n\",\"and\":\"und\",\"or\":\"oder\",\"listcomma\":\", \",\"oxfordcomma\":\",\"}}}}}<\/script>"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9017"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-format"]},{"type":"character","attributes":{},"value":["0.10.1.9017"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmarkdown/templates/tutorial/resources"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-format.js"]},{"type":"character","attributes":{},"value":["tutorial-format.css","rstudio-theme.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9017"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["navigation"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/navigation-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tabsets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.11"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["default.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.11"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["font-awesome"]},{"type":"character","attributes":{},"value":["5.1.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/fontawesome"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/all.css","css/v4-shims.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.11"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootbox"]},{"type":"character","attributes":{},"value":["4.4.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/bootbox"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["bootbox.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9017"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["idb-keyvalue"]},{"type":"character","attributes":{},"value":["3.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/idb-keyval"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["idb-keyval-iife-compat.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["0.10.1.9017"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1.9017"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9017"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-autocompletion"]},{"type":"character","attributes":{},"value":["0.10.1.9017"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-autocompletion.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9017"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-diagnostics"]},{"type":"character","attributes":{},"value":["0.10.1.9017"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-diagnostics.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9017"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"character","attributes":{},"value":["1.5.4"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["plotly-binding"]},{"type":"character","attributes":{},"value":["4.10.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["typedarray"]},{"type":"character","attributes":{},"value":["0.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/lib/typedarray"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["typedarray.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.5.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["crosstalk"]},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["crosstalk"]},{"type":"character","attributes":{},"value":["1.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/crosstalk.min.js"]},{"type":"character","attributes":{},"value":["css/crosstalk.min.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["crosstalk"]},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["plotly-htmlwidgets-css"]},{"type":"character","attributes":{},"value":["2.5.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/lib/plotlyjs"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly-htmlwidgets.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["plotly-main"]},{"type":"character","attributes":{},"value":["2.5.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/lib/plotlyjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly-latest.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9017"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9017"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"character","attributes":{},"value":["1.5.4"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["plotly-binding"]},{"type":"character","attributes":{},"value":["4.10.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["typedarray"]},{"type":"character","attributes":{},"value":["0.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/lib/typedarray"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["typedarray.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.5.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["crosstalk"]},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["crosstalk"]},{"type":"character","attributes":{},"value":["1.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/crosstalk.min.js"]},{"type":"character","attributes":{},"value":["css/crosstalk.min.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["crosstalk"]},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["plotly-htmlwidgets-css"]},{"type":"character","attributes":{},"value":["2.5.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/lib/plotlyjs"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly-htmlwidgets.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["plotly-main"]},{"type":"character","attributes":{},"value":["2.5.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/lib/plotlyjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly-latest.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9017"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9017"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"character","attributes":{},"value":["1.5.4"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["plotly-binding"]},{"type":"character","attributes":{},"value":["4.10.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["typedarray"]},{"type":"character","attributes":{},"value":["0.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/lib/typedarray"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["typedarray.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.5.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["crosstalk"]},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["crosstalk"]},{"type":"character","attributes":{},"value":["1.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/crosstalk.min.js"]},{"type":"character","attributes":{},"value":["css/crosstalk.min.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["crosstalk"]},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["plotly-htmlwidgets-css"]},{"type":"character","attributes":{},"value":["2.5.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/lib/plotlyjs"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly-htmlwidgets.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["plotly-main"]},{"type":"character","attributes":{},"value":["2.5.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/lib/plotlyjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly-latest.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"character","attributes":{},"value":["1.5.4"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["plotly-binding"]},{"type":"character","attributes":{},"value":["4.10.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["typedarray"]},{"type":"character","attributes":{},"value":["0.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/lib/typedarray"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["typedarray.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.5.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["crosstalk"]},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["crosstalk"]},{"type":"character","attributes":{},"value":["1.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/crosstalk.min.js"]},{"type":"character","attributes":{},"value":["css/crosstalk.min.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["crosstalk"]},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["plotly-htmlwidgets-css"]},{"type":"character","attributes":{},"value":["2.5.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/lib/plotlyjs"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly-htmlwidgets.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["plotly-main"]},{"type":"character","attributes":{},"value":["2.5.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/lib/plotlyjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly-latest.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9017"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9017"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9017"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9017"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-javascript"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["href"]}},"value":[{"type":"character","attributes":{},"value":["shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["href"]}},"value":[{"type":"character","attributes":{},"value":["shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-css"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["href"]}},"value":[{"type":"character","attributes":{},"value":["shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9017"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9017"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9017"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9017"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"character","attributes":{},"value":["1.5.4"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["plotly-binding"]},{"type":"character","attributes":{},"value":["4.10.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["typedarray"]},{"type":"character","attributes":{},"value":["0.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/lib/typedarray"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["typedarray.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.5.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["crosstalk"]},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["crosstalk"]},{"type":"character","attributes":{},"value":["1.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/crosstalk.min.js"]},{"type":"character","attributes":{},"value":["css/crosstalk.min.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["crosstalk"]},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["plotly-htmlwidgets-css"]},{"type":"character","attributes":{},"value":["2.5.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/lib/plotlyjs"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly-htmlwidgets.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["plotly-main"]},{"type":"character","attributes":{},"value":["2.5.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/lib/plotlyjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly-latest.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-javascript"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["href"]}},"value":[{"type":"character","attributes":{},"value":["shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["href"]}},"value":[{"type":"character","attributes":{},"value":["shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-css"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["href"]}},"value":[{"type":"character","attributes":{},"value":["shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"character","attributes":{},"value":["1.5.4"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["plotly-binding"]},{"type":"character","attributes":{},"value":["4.10.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["typedarray"]},{"type":"character","attributes":{},"value":["0.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/lib/typedarray"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["typedarray.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.5.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["crosstalk"]},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["crosstalk"]},{"type":"character","attributes":{},"value":["1.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/crosstalk.min.js"]},{"type":"character","attributes":{},"value":["css/crosstalk.min.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["crosstalk"]},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["plotly-htmlwidgets-css"]},{"type":"character","attributes":{},"value":["2.5.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/lib/plotlyjs"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly-htmlwidgets.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["plotly-main"]},{"type":"character","attributes":{},"value":["2.5.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/lib/plotlyjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly-latest.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-javascript"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["href"]}},"value":[{"type":"character","attributes":{},"value":["shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["href"]}},"value":[{"type":"character","attributes":{},"value":["shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-css"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["href"]}},"value":[{"type":"character","attributes":{},"value":["shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"logical","attributes":{},"value":[true]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121]}},"value":[{"type":"character","attributes":{},"value":["abind","assertthat","backports","base","broom","bslib","car","carData","cellranger","checkmate","class","cli","cluster","colorspace","compiler","crayon","crosstalk","curl","data.table","datasets","DBI","dbplyr","dbscan","dendextend","DEoptimR","digest","diptest","dplyr","ellipsis","evaluate","factoextra","fansi","farver","fastmap","flexmix","forcats","fpc","fs","generics","ggplot2","ggpubr","ggrepel","ggsignif","glue","gradethis","graphics","grDevices","grid","gridExtra","gtable","haven","highr","hms","htmltools","htmlwidgets","httpuv","httr","jquerylib","jsonlite","kernlab","kmodR","knitr","labeling","later","lattice","lazyeval","learnr","lifecycle","lubridate","magrittr","markdown","MASS","mclust","methods","mime","modelr","modeltools","munsell","nnet","parallel","pillar","pkgconfig","plotly","prabclus","promises","purrr","R6","Rcpp","readr","readxl","reprex","rlang","rmarkdown","robustbase","rprojroot","rstatix","rstudioapi","rvest","sass","scales","shiny","stats","stats4","stringi","stringr","tibble","tidyr","tidyselect","tidyverse","tools","tzdb","utf8","utils","vctrs","viridis","viridisLite","withr","xfun","xml2","xtable","yaml"]},{"type":"character","attributes":{},"value":["1.4-5","0.2.1","1.3.0","4.1.2","0.7.10","0.3.1","3.0-12","3.0-4","1.1.0","2.0.0","7.3-19","3.1.0","2.1.2","2.0-2","4.1.2","1.4.2","1.2.0","4.3.2","1.14.2","4.1.2","1.1.1","2.1.1","1.1-8","1.15.2","1.0-9","0.6.28","0.76-0","1.0.7","0.3.2","0.14","1.0.7","0.5.0","2.1.0","1.1.0","2.3-17","0.5.1","2.2-9","1.5.0","0.1.1","3.3.5","0.4.0","0.9.1","0.6.3","1.4.2","0.2.4.9000","4.1.2","4.1.2","4.1.2","2.3","0.3.0","2.4.3","0.9","1.1.1","0.5.2","1.5.4","1.6.3","1.4.2","0.1.4","1.7.2","0.9-29","0.1.0","1.36","0.4.2","1.3.0","0.20-45","0.2.2","0.10.1.9017","1.0.1","1.8.0","2.0.1","1.1","7.3-54","5.4.8","4.1.2","0.12","0.1.8","0.2-23","0.5.0","7.3-16","4.1.2","1.6.4","2.0.3","4.10.0","2.3-2","1.2.0.1","0.3.4","2.5.1","1.0.7","2.0.2","1.3.1","2.0.1","0.4.12","2.11","0.93-9","2.0.2","0.7.0","0.13","1.0.2","0.4.0","1.1.1","1.7.1","4.1.2","4.1.2","1.7.6","1.4.0","3.1.6","1.1.4","1.1.1","1.3.1","4.1.2","0.2.0","1.2.2","4.1.2","0.3.8","0.6.2","0.4.0","2.4.3","0.27","1.3.2","1.8-4","2.2.1"]}]}]}
</script>
<!--/html_preserve-->
</div>
</div>

</div> <!-- topics -->

<div class="topicsContainer">
<div class="topicsPositioner">
<div class="band">
<div class="bandContent topicsListContainer">

<!-- begin doc-metadata -->
<div id="doc-metadata">
<h2 class="title toc-ignore" style="display:none;">Clustering</h2>
<h4 class="author"><em>Amy Roger</em></h4>
</div>
<!-- end doc-metadata -->

</div> <!-- bandContent.topicsListContainer -->
</div> <!-- band -->
</div> <!-- topicsPositioner -->
</div> <!-- topicsContainer -->


</div> <!-- bandContent page -->
</div> <!-- pageContent band -->



<!-- Build Tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("section-TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<script>
// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>


</body>

</html>
